<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BTCÁ¢∞Êíû2.0</title>
    <style>
        /* ==================== ÂÖ®Â±ÄÊ†∑Âºè ==================== */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #0a0a0a 100%);
            color: #f0f0f0;
            line-height: 1.6;
            min-height: 100vh;
            padding: 10px;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 15px;
        }
        
        /* ==================== Â§¥ÈÉ®Ê†∑Âºè ==================== */
        .header {
            text-align: center;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(0, 122, 255, 0.3);
            position: relative;
        }
        .header h1 {
            font-size: 2.5rem;
            background: linear-gradient(90deg, #007aff 0%, #00d4ff 50%, #007aff 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
            font-weight: 800;
            text-shadow: 0 2px 10px rgba(0, 122, 255, 0.3);
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { text-shadow: 0 0 10px rgba(0, 122, 255, 0.5); }
            to { text-shadow: 0 0 20px rgba(0, 212, 255, 0.8); }
        }
        .header .version {
            font-size: 0.9rem;
            color: #00d4ff;
            background: rgba(26, 26, 26, 0.9);
            padding: 6px 15px;
            border-radius: 20px;
            display: inline-block;
            border: 1px solid rgba(0, 122, 255, 0.3);
            font-weight: 600;
        }
        .header .subtitle {
            margin-top: 10px;
            color: #888;
            font-size: 0.95rem;
        }
        
        /* ==================== Áä∂ÊÄÅÊ®™ÂπÖ ==================== */
        .status-banner {
            background: linear-gradient(135deg, rgba(26, 26, 26, 0.95) 0%, rgba(40, 40, 40, 0.95) 100%);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(60, 60, 60, 0.8);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            position: relative;
            overflow: hidden;
        }
        .status-banner::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, #007aff, transparent);
            animation: scanLine 3s linear infinite;
        }
        @keyframes scanLine {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        .btc-info {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 12px 20px;
            background: linear-gradient(135deg, rgba(0, 122, 255, 0.15) 0%, rgba(0, 212, 255, 0.15) 100%);
            border-radius: 12px;
            border: 1px solid rgba(0, 122, 255, 0.4);
            position: relative;
            z-index: 1;
        }
        .btc-icon {
            font-size: 1.8rem;
            color: #007aff;
            filter: drop-shadow(0 0 10px rgba(0, 122, 255, 0.5));
            animation: pulse 1.5s ease-in-out infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        .btc-amount {
            font-size: 1.5rem;
            font-weight: 800;
            color: #007aff;
            text-shadow: 0 0 15px rgba(0, 122, 255, 0.5);
        }
        
        .api-status-container {
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        .api-status {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 16px;
            border-radius: 10px;
            font-size: 0.9rem;
            font-weight: 700;
            background: rgba(0, 122, 255, 0.15);
            border: 2px solid rgba(0, 122, 255, 0.4);
            position: relative;
            overflow: hidden;
        }
        .api-status.online {
            background: rgba(52, 199, 89, 0.2);
            border-color: rgba(52, 199, 89, 0.5);
        }
        .api-status.offline {
            background: rgba(255, 59, 48, 0.2);
            border-color: rgba(255, 59, 48, 0.5);
        }
        .api-status.connecting {
            background: rgba(255, 149, 0, 0.2);
            border-color: rgba(255, 149, 0, 0.5);
        }
        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            display: inline-block;
            animation: pulse 2s infinite;
            position: relative;
        }
        .status-dot::after {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            border-radius: 50%;
            border: 2px solid currentColor;
            opacity: 0.5;
            animation: pulse-ring 2s infinite;
        }
        @keyframes pulse-ring {
            0% { transform: scale(0.8); opacity: 0.5; }
            100% { transform: scale(1.5); opacity: 0; }
        }
        .status-dot.online {
            background: #34c759;
            box-shadow: 0 0 15px #34c759;
        }
        .status-dot.offline {
            background: #ff3b30;
            box-shadow: 0 0 15px #ff3b30;
        }
        .status-dot.connecting {
            background: #ff9500;
            box-shadow: 0 0 15px #ff9500;
        }
        
        .queue-info {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background: linear-gradient(135deg, rgba(0, 122, 255, 0.15) 0%, rgba(0, 100, 255, 0.15) 100%);
            border-radius: 10px;
            border: 2px solid rgba(0, 122, 255, 0.4);
            font-size: 0.9rem;
            font-weight: 600;
        }
        .queue-count {
            font-weight: 800;
            color: #007aff;
            font-size: 1.1rem;
            text-shadow: 0 0 10px rgba(0, 122, 255, 0.5);
        }
        
        .alarm-control {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px 18px;
            background: linear-gradient(135deg, rgba(0, 122, 255, 0.15) 0%, rgba(0, 100, 255, 0.15) 100%);
            border-radius: 12px;
            border: 2px solid rgba(0, 122, 255, 0.4);
        }
        
        .alarm-toggle {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            font-weight: 600;
            color: #007aff;
        }
        
        .toggle-slider {
            width: 50px;
            height: 26px;
            background: #404040;
            border-radius: 26px;
            position: relative;
            transition: all 0.3s ease;
        }
        
        .toggle-dot {
            width: 22px;
            height: 22px;
            background: #888;
            border-radius: 50%;
            position: absolute;
            top: 2px;
            left: 2px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
        }
        
        .alarm-toggle.active .toggle-slider {
            background: rgba(0, 122, 255, 0.3);
        }
        
        .alarm-toggle.active .toggle-dot {
            transform: translateX(24px);
            background: #007aff;
            box-shadow: 0 0 12px rgba(0, 122, 255, 0.7);
        }
        
        .test-alarm-btn {
            padding: 8px 16px;
            background: linear-gradient(135deg, #007aff 0%, #00d4ff 100%);
            color: #fff;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 700;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        
        .test-alarm-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 122, 255, 0.4);
        }
        
        .reconnect-btn {
            padding: 10px 20px;
            background: linear-gradient(135deg, #007aff 0%, #00d4ff 100%);
            color: #fff;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 700;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        .reconnect-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
            z-index: -1;
        }
        .reconnect-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 122, 255, 0.4);
        }
        .reconnect-btn:hover::before {
            left: 100%;
        }
        .reconnect-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
            box-shadow: none !important;
        }
        
        /* ==================== APIÈÄâÊã©Âô®Ê†∑Âºè ==================== */
        .api-selector-container {
            background: rgba(40, 40, 40, 0.7);
            border-radius: 12px;
            padding: 15px;
            margin: 15px 0;
            border: 2px solid rgba(60, 60, 60, 0.8);
        }
        
        .api-selector-title {
            font-size: 0.95rem;
            color: #00d4ff;
            font-weight: 700;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .api-selector-title::before {
            content: 'üîå';
            font-size: 1.2rem;
        }
        
        .api-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 15px;
        }
        
        .api-btn {
            padding: 8px 14px;
            background: linear-gradient(135deg, rgba(40, 40, 40, 0.9) 0%, rgba(60, 60, 60, 0.9) 100%);
            border: 2px solid rgba(60, 60, 60, 0.8);
            color: #aaa;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 600;
            transition: all 0.3s ease;
            min-width: 60px;
            text-align: center;
        }
        
        .api-btn:hover {
            background: linear-gradient(135deg, rgba(60, 60, 60, 0.9) 0%, rgba(80, 80, 80, 0.9) 100%);
            color: #00d4ff;
            border-color: rgba(0, 212, 255, 0.5);
        }
        
        .api-btn.active {
            background: linear-gradient(135deg, #007aff 0%, #00a5ff 100%);
            color: white;
            border-color: #007aff;
            box-shadow: 0 4px 12px rgba(0, 122, 255, 0.4);
        }
        
        .api-btn.active:hover {
            background: linear-gradient(135deg, #00a5ff 0%, #00c8ff 100%);
        }
        
        .api-rotation-info {
            font-size: 0.85rem;
            color: #888;
            padding: 8px 12px;
            background: rgba(26, 26, 26, 0.5);
            border-radius: 6px;
            margin-top: 10px;
            border-left: 3px solid #00d4ff;
        }
        
        /* ==================== ÊéßÂà∂Èù¢Êùø ==================== */
        .control-panel {
            background: linear-gradient(135deg, rgba(26, 26, 26, 0.95) 0%, rgba(40, 40, 40, 0.95) 100%);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(60, 60, 60, 0.8);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            position: relative;
            overflow: hidden;
        }
        .control-panel::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, rgba(0, 122, 255, 0.1) 0%, transparent 70%);
            pointer-events: none;
        }
        
        .button-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 25px;
            justify-content: center;
        }
        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
            min-width: 150px;
            justify-content: center;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
            z-index: -1;
        }
        .btn:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
        }
        .btn:hover::before {
            left: 100%;
        }
        .btn:active {
            transform: translateY(-1px);
        }
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
            box-shadow: none !important;
        }
        .btn:disabled:hover::before {
            left: -100%;
        }
        
        .btn-start {
            background: linear-gradient(135deg, #34c759 0%, #28a745 100%);
            color: white;
        }
        .btn-pause {
            background: linear-gradient(135deg, #ff3b30 0%, #dc3545 100%);
            color: white;
        }
        .btn-continue {
            background: linear-gradient(135deg, #007aff 0%, #0056b3 100%);
            color: white;
        }
        .btn-stats {
            background: linear-gradient(135deg, #00d4ff 0%, #007aff 100%);
            color: white;
        }
        .btn-export {
            background: linear-gradient(135deg, #28a745 0%, #1e7e34 100%);
            color: white;
        }
        .btn-reconnect {
            background: linear-gradient(135deg, #007aff 0%, #00d4ff 100%);
            color: white;
        }
        
        /* ==================== ÈÄüÂ∫¶ÊéßÂà∂ ==================== */
        .speed-control {
            margin-top: 25px;
            padding-top: 25px;
            border-top: 2px solid rgba(60, 60, 60, 0.6);
        }
        .speed-control label {
            display: block;
            margin-bottom: 15px;
            color: #00d4ff;
            font-weight: 700;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .speed-control label::before {
            content: '‚ö°';
            font-size: 1.2rem;
        }
        
        .speed-slider-container {
            position: relative;
            margin-bottom: 20px;
        }
        .speed-slider {
            width: 100%;
            height: 12px;
            -webkit-appearance: none;
            appearance: none;
            background: linear-gradient(90deg, #007aff 0%, #00d4ff 50%, #007aff 100%);
            border-radius: 10px;
            outline: none;
            cursor: pointer;
            position: relative;
            z-index: 1;
        }
        .speed-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: white;
            cursor: pointer;
            border: 3px solid #007aff;
            box-shadow: 0 0 15px rgba(0, 122, 255, 0.7);
            transition: all 0.3s ease;
        }
        .speed-slider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 0 20px rgba(0, 122, 255, 1);
        }
        .speed-slider::-moz-range-thumb {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: white;
            cursor: pointer;
            border: 3px solid #007aff;
            box-shadow: 0 0 15px rgba(0, 122, 255, 0.7);
        }
        
        .speed-value-display {
            position: absolute;
            top: -40px;
            left: 0;
            right: 0;
            text-align: center;
            font-weight: 800;
            font-size: 1.3rem;
            color: #007aff;
            text-shadow: 0 0 10px rgba(0, 122, 255, 0.5);
            pointer-events: none;
            z-index: 2;
        }
        
        .speed-options {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }
        .speed-btn {
            padding: 10px 20px;
            background: linear-gradient(135deg, rgba(40, 40, 40, 0.9) 0%, rgba(60, 60, 60, 0.9) 100%);
            border: 2px solid rgba(60, 60, 60, 0.8);
            color: #aaa;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            transition: all 0.3s ease;
            flex: 1;
            text-align: center;
            min-width: 120px;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        .speed-btn:hover {
            background: linear-gradient(135deg, rgba(60, 60, 60, 0.9) 0%, rgba(80, 80, 80, 0.9) 100%);
            color: #00d4ff;
            border-color: rgba(0, 212, 255, 0.5);
            transform: translateY(-2px);
        }
        .speed-btn.active {
            background: linear-gradient(135deg, #007aff 0%, #00d4ff 100%);
            color: white;
            border-color: #007aff;
            box-shadow: 0 4px 15px rgba(0, 122, 255, 0.4);
        }
        .speed-btn.active:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 122, 255, 0.6);
        }
        
        .speed-description {
            margin-top: 15px;
            padding: 15px;
            background: rgba(40, 40, 40, 0.7);
            border-radius: 10px;
            border-left: 4px solid #00d4ff;
            font-size: 0.9rem;
            color: #888;
            line-height: 1.5;
        }
        
        /* ==================== API‰ø°ÊÅØ ==================== */
        .api-info {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-top: 25px;
            padding-top: 25px;
            border-top: 2px solid rgba(60, 60, 60, 0.6);
            font-size: 0.9rem;
            flex-wrap: wrap;
            justify-content: center;
        }
        .api-info-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 15px;
            background: rgba(40, 40, 40, 0.7);
            border-radius: 8px;
            border: 1px solid rgba(60, 60, 60, 0.6);
        }
        .api-info-label {
            color: #888;
            font-weight: 500;
        }
        .api-info-value {
            color: #00d4ff;
            font-weight: 700;
        }
        .api-provider {
            padding: 8px 16px;
            border-radius: 8px;
            background: linear-gradient(135deg, rgba(26, 26, 26, 0.9) 0%, rgba(40, 40, 40, 0.9) 100%);
            color: #00d4ff;
            border: 2px solid rgba(0, 212, 255, 0.5);
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .api-provider.active {
            background: linear-gradient(135deg, rgba(52, 199, 89, 0.2) 0%, rgba(52, 199, 89, 0.1) 100%);
            color: #34c759;
            border-color: rgba(52, 199, 89, 0.6);
        }
        .api-provider.active::before {
            content: '‚úì';
            color: #34c759;
            font-weight: bold;
        }
        
        /* ==================== ÁªüËÆ°Èù¢Êùø ==================== */
        .stats-panel {
            background: linear-gradient(135deg, rgba(26, 26, 26, 0.95) 0%, rgba(40, 40, 40, 0.95) 100%);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(60, 60, 60, 0.8);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            position: relative;
        }
        .stats-panel::before {
            content: 'üìä';
            position: absolute;
            top: -15px;
            right: 20px;
            font-size: 2rem;
            opacity: 0.3;
        }
        
        .panel-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 25px;
            position: relative;
        }
        .panel-header h3 {
            color: #00d4ff;
            font-size: 1.3rem;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .panel-icon {
            font-size: 1.5rem;
            color: #00d4ff;
            animation: bounce 2s infinite;
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
        }
        .stat-card {
            background: linear-gradient(135deg, rgba(40, 40, 40, 0.9) 0%, rgba(60, 60, 60, 0.9) 100%);
            border: 2px solid rgba(60, 60, 60, 0.8);
            border-radius: 12px;
            padding: 25px 20px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #007aff, #00d4ff);
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.3s ease;
        }
        .stat-card:hover {
            transform: translateY(-5px);
            border-color: #007aff;
            box-shadow: 0 10px 25px rgba(0, 122, 255, 0.3);
        }
        .stat-card:hover::before {
            transform: scaleX(1);
        }
        .stat-card.highlight {
            background: linear-gradient(135deg, rgba(0, 122, 255, 0.1) 0%, rgba(0, 212, 255, 0.1) 100%);
            border-color: rgba(0, 122, 255, 0.5);
        }
        .stat-card.highlight:hover {
            box-shadow: 0 10px 25px rgba(0, 122, 255, 0.5);
        }
        
        .stat-value {
            font-size: 2.2rem;
            font-weight: 900;
            color: #007aff;
            margin-bottom: 10px;
            text-shadow: 0 0 15px rgba(0, 122, 255, 0.5);
            font-family: 'Consolas', 'Monaco', monospace;
        }
        .stat-card.highlight .stat-value {
            color: #34c759;
            text-shadow: 0 0 15px rgba(52, 199, 89, 0.5);
        }
        .stat-label {
            font-size: 0.85rem;
            color: #007aff;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }
        
        /* ==================== ÂΩìÂâçÊâ´ÊèèÈù¢Êùø ==================== */
        .current-scan {
            background: linear-gradient(135deg, rgba(26, 26, 26, 0.95) 0%, rgba(40, 40, 40, 0.95) 100%);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(60, 60, 60, 0.8);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            position: relative;
        }
        .current-scan::after {
            content: 'üéØ';
            position: absolute;
            bottom: -15px;
            right: 20px;
            font-size: 3rem;
            opacity: 0.2;
            transform: rotate(15deg);
        }
        
        .scan-info {
            background: linear-gradient(135deg, rgba(40, 40, 40, 0.9) 0%, rgba(60, 60, 60, 0.9) 100%);
            border: 2px solid rgba(60, 60, 60, 0.8);
            border-radius: 12px;
            padding: 25px;
            position: relative;
            overflow: hidden;
        }
        .scan-info::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, rgba(0, 122, 255, 0.1) 0%, transparent 70%);
        }
        
        .info-row {
            display: flex;
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(60, 60, 60, 0.6);
            align-items: flex-start;
        }
        .info-row:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        .info-label {
            width: 100px;
            font-weight: 700;
            color: #00d4ff;
            font-size: 0.95rem;
            flex-shrink: 0;
            padding-top: 2px;
        }
        .info-value {
            flex: 1;
            word-break: break-all;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.95rem;
            line-height: 1.5;
        }
        .mnemonic-value {
            color: #007aff;
            font-weight: 600;
            background: rgba(0, 122, 255, 0.1);
            padding: 10px;
            border-radius: 8px;
            border: 1px solid rgba(0, 122, 255, 0.3);
        }
        .address-value {
            color: #64d2ff;
            font-weight: 500;
            background: rgba(100, 210, 255, 0.1);
            padding: 10px;
            border-radius: 8px;
            border: 1px solid rgba(100, 210, 255, 0.3);
        }
        .private-key-value {
            color: #d4a5ff;
            font-weight: 500;
            background: rgba(212, 165, 255, 0.1);
            padding: 10px;
            border-radius: 8px;
            border: 1px solid rgba(212, 165, 255, 0.3);
        }
        .balance-value {
            font-size: 1.8rem;
            font-weight: 900;
            padding: 15px;
            border-radius: 10px;
            display: inline-block;
            min-width: 200px;
            text-align: center;
        }
        .balance-positive {
            color: #34c759;
            background: rgba(52, 199, 89, 0.15);
            border: 2px solid rgba(52, 199, 89, 0.5);
            text-shadow: 0 0 15px rgba(52, 199, 89, 0.5);
            animation: balanceGlow 2s infinite alternate;
        }
        @keyframes balanceGlow {
            from { box-shadow: 0 0 10px rgba(52, 199, 89, 0.3); }
            to { box-shadow: 0 0 20px rgba(52, 199, 89, 0.7); }
        }
        .balance-zero {
            color: #888;
            background: rgba(136, 136, 136, 0.1);
            border: 2px solid rgba(136, 136, 136, 0.3);
        }
        .balance-failed {
            color: #ff3b30;
            background: rgba(255, 59, 48, 0.15);
            border: 2px solid rgba(255, 59, 48, 0.5);
        }
        .balance-checking {
            color: #ff9500;
            background: rgba(255, 149, 0, 0.15);
            border: 2px solid rgba(255, 149, 0, 0.5);
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 25px;
            flex-wrap: wrap;
        }
        .action-btn {
            padding: 12px 20px;
            background: linear-gradient(135deg, rgba(40, 40, 40, 0.9) 0%, rgba(60, 60, 60, 0.9) 100%);
            border: 2px solid rgba(60, 60, 60, 0.8);
            color: #f0f0f0;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.95rem;
            font-weight: 600;
            transition: all 0.3s ease;
            flex: 1;
            min-width: 150px;
            justify-content: center;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        .action-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s ease;
            z-index: -1;
        }
        .action-btn:hover {
            background: linear-gradient(135deg, rgba(60, 60, 60, 0.9) 0%, rgba(80, 80, 80, 0.9) 100%);
            transform: translateY(-3px);
            border-color: #007aff;
        }
        .action-btn:hover::before {
            left: 100%;
        }
        .action-btn:active {
            transform: translateY(-1px);
        }
        
        /* ==================== Â∑°Êü•Èù¢Êùø ==================== */
        .patrol-panel {
            background: linear-gradient(135deg, rgba(26, 26, 26, 0.95) 0%, rgba(40, 40, 40, 0.95) 100%);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(60, 60, 60, 0.8);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            position: relative;
        }
        .patrol-panel::before {
            content: 'üîç';
            position: absolute;
            top: -15px;
            left: 20px;
            font-size: 2rem;
            opacity: 0.3;
        }
        
        .patrol-controls {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            align-items: center;
        }
        .patrol-controls input, .patrol-controls select {
            padding: 12px 18px;
            background: linear-gradient(135deg, rgba(40, 40, 40, 0.9) 0%, rgba(60, 60, 60, 0.9) 100%);
            border: 2px solid rgba(60, 60, 60, 0.8);
            border-radius: 8px;
            color: #f0f0f0;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            flex: 1;
            min-width: 200px;
            outline: none;
        }
        .patrol-controls input:focus, .patrol-controls select:focus {
            border-color: #007aff;
            box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.2);
        }
        .patrol-controls input::placeholder {
            color: #888;
        }
        .patrol-controls button {
            padding: 12px 24px;
            background: linear-gradient(135deg, #007aff 0%, #0056b3 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.95rem;
            font-weight: 600;
            transition: all 0.3s ease;
            flex: 1;
            min-width: 120px;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        .patrol-controls button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
            z-index: -1;
        }
        .patrol-controls button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 122, 255, 0.4);
        }
        .patrol-controls button:hover::before {
            left: 100%;
        }
        
        .table-container {
            max-height: 400px;
            overflow-y: auto;
            border: 2px solid rgba(60, 60, 60, 0.8);
            border-radius: 10px;
            background: rgba(26, 26, 26, 0.8);
            margin-bottom: 20px;
            scrollbar-width: thin;
            scrollbar-color: #007aff rgba(40, 40, 40, 0.8);
        }
        .table-container::-webkit-scrollbar {
            width: 8px;
        }
        .table-container::-webkit-scrollbar-track {
            background: rgba(40, 40, 40, 0.8);
            border-radius: 4px;
        }
        .table-container::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #007aff 0%, #00d4ff 100%);
            border-radius: 4px;
        }
        .table-container::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #00d4ff 0%, #007aff 100%);
        }
        
        .patrol-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }
        .patrol-table th {
            background: linear-gradient(135deg, rgba(40, 40, 40, 0.95) 0%, rgba(60, 60, 60, 0.95) 100%);
            position: sticky;
            top: 0;
            padding: 18px 15px;
            text-align: left;
            font-weight: 700;
            color: #888;
            border-bottom: 3px solid rgba(60, 60, 60, 0.8);
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            z-index: 10;
        }
        .patrol-table td {
            padding: 15px;
            border-bottom: 1px solid rgba(60, 60, 60, 0.5);
            transition: all 0.2s ease;
        }
        .patrol-table tr {
            transition: all 0.2s ease;
        }
        .patrol-table tr:hover {
            background: rgba(0, 122, 255, 0.1);
            transform: translateX(5px);
        }
        .patrol-table tr.has-balance {
            background: rgba(52, 199, 89, 0.1);
        }
        .patrol-table tr.has-balance:hover {
            background: rgba(52, 199, 89, 0.15);
        }
        .patrol-table tr.failed {
            background: rgba(255, 59, 48, 0.1);
        }
        .patrol-table tr.failed:hover {
            background: rgba(255, 59, 48, 0.15);
        }
        
        .mnemonic-cell {
            max-width: 200px;
            word-break: break-word;
            color: #007aff;
            font-weight: 500;
            line-height: 1.4;
        }
        .address-cell {
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.85rem;
            color: #64d2ff;
            letter-spacing: 0.5px;
        }
        .balance-cell {
            font-weight: 700;
            font-size: 1rem;
        }
        .balance-cell.positive {
            color: #34c759;
            text-shadow: 0 0 10px rgba(52, 199, 89, 0.3);
        }
        .balance-cell.zero {
            color: #888;
        }
        .balance-cell.failed {
            color: #ff3b30;
        }
        .table-btn {
            padding: 8px 16px;
            background: linear-gradient(135deg, #007aff 0%, #0056b3 100%);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 600;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        .table-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
            z-index: -1;
        }
        .table-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 122, 255, 0.4);
        }
        .table-btn:hover::before {
            left: 100%;
        }
        
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin-top: 25px;
        }
        .page-btn {
            padding: 10px 18px;
            background: linear-gradient(135deg, rgba(40, 40, 40, 0.9) 0%, rgba(60, 60, 60, 0.9) 100%);
            border: 2px solid rgba(60, 60, 60, 0.8);
            color: #f0f0f0;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            transition: all 0.3s ease;
            min-width: 45px;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        .page-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s ease;
            z-index: -1;
        }
        .page-btn:hover {
            background: linear-gradient(135deg, rgba(60, 60, 60, 0.9) 0%, rgba(80, 80, 80, 0.9) 100%);
            border-color: #007aff;
            transform: translateY(-2px);
        }
        .page-btn:hover::before {
            left: 100%;
        }
        .page-btn.active {
            background: linear-gradient(135deg, #007aff 0%, #0056b3 100%);
            color: white;
            border-color: #007aff;
            box-shadow: 0 4px 12px rgba(0, 122, 255, 0.4);
        }
        .page-btn.active:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0, 122, 255, 0.6);
        }
        
        /* ==================== ÂèëÁé∞‰ΩôÈ¢ùÈù¢Êùø ==================== */
        .found-balances {
            background: linear-gradient(135deg, rgba(26, 26, 26, 0.95) 0%, rgba(40, 40, 40, 0.95) 100%);
            backdrop-filter: blur(15px);
            border: 2px solid rgba(0, 122, 255, 0.8);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 8px 32px rgba(0, 122, 255, 0.2);
            position: relative;
            overflow: hidden;
        }
        .found-balances::before {
            content: 'üí∞';
            position: absolute;
            top: -20px;
            right: 20px;
            font-size: 4rem;
            opacity: 0.2;
            transform: rotate(15deg);
        }
        .found-balances::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(0, 122, 255, 0.05) 50%, transparent 70%);
            animation: shine 3s infinite linear;
            pointer-events: none;
        }
        @keyframes shine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .found-balances h3 {
            color: #007aff;
            margin-bottom: 25px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 12px;
            position: relative;
            z-index: 1;
        }
        
        #foundBalancesList {
            position: relative;
            z-index: 1;
        }
        
        .balance-item {
            background: linear-gradient(135deg, rgba(40, 40, 40, 0.9) 0%, rgba(60, 60, 60, 0.9) 100%);
            border: 2px solid rgba(60, 60, 60, 0.8);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        .balance-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #34c759, #28a745);
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.3s ease;
        }
        .balance-item:hover {
            transform: translateY(-5px);
            border-color: #34c759;
            box-shadow: 0 10px 25px rgba(52, 199, 89, 0.3);
        }
        .balance-item:hover::before {
            transform: scaleX(1);
        }
        
        .balance-header {
            color: #34c759;
            font-weight: 800;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.1rem;
        }
        .balance-amount {
            font-size: 2.5rem;
            color: #34c759;
            font-weight: 900;
            text-align: center;
            margin: 25px 0;
            text-shadow: 0 0 20px rgba(52, 199, 89, 0.5);
            animation: amountGlow 2s infinite alternate;
        }
        @keyframes amountGlow {
            from { text-shadow: 0 0 10px rgba(52, 199, 89, 0.5); }
            to { text-shadow: 0 0 25px rgba(52, 199, 89, 0.8); }
        }
        
        .balance-details {
            background: rgba(40, 40, 40, 0.7);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }
        .balance-detail-row {
            display: flex;
            margin-bottom: 10px;
            font-size: 0.9rem;
        }
        .balance-detail-label {
            width: 80px;
            color: #888;
            font-weight: 500;
        }
        .balance-detail-value {
            flex: 1;
            color: #f0f0f0;
            font-family: 'Consolas', 'Monaco', monospace;
            word-break: break-all;
        }
        .balance-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
        }
        
        /* ==================== ÈÄöÁü•ÂºπÁ™ó ==================== */
        .notification {
            position: fixed;
            top: 25px;
            right: 25px;
            background: linear-gradient(135deg, rgba(0, 122, 255, 0.98) 0%, rgba(0, 212, 255, 0.98) 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.5);
            z-index: 9999;
            max-width: 450px;
            display: none;
            animation: slideInRight 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transform-origin: top right;
        }
        @keyframes slideInRight {
            from { transform: translateX(100%) scale(0.9); opacity: 0; }
            to { transform: translateX(0) scale(1); opacity: 1; }
        }
        
        .notification-header {
            font-size: 1.2rem;
            font-weight: 800;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 12px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        .notification-header::before {
            content: 'üéâ';
            font-size: 1.5rem;
        }
        
        .notification-content {
            font-size: 0.95rem;
            line-height: 1.5;
        }
        
        .notification-balance {
            font-size: 2rem;
            font-weight: 900;
            text-align: center;
            margin: 20px 0;
            text-shadow: 0 2px 15px rgba(0, 0, 0, 0.2);
            animation: notificationGlow 2s infinite alternate;
        }
        @keyframes notificationGlow {
            from { text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2); }
            to { text-shadow: 0 2px 20px rgba(255, 255, 255, 0.2); }
        }
        
        .notification-actions {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        .notification-btn {
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.4);
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            transition: all 0.3s ease;
            flex: 1;
            text-align: center;
            backdrop-filter: blur(5px);
        }
        .notification-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        .notification-btn.primary {
            background: rgba(255, 255, 255, 0.3);
            border-color: white;
            font-weight: 700;
        }
        
        /* ==================== Âä†ËΩΩÂä®Áîª ==================== */
        .loading-spinner {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid rgba(0, 122, 255, 0.3);
            border-radius: 50%;
            border-top-color: #007aff;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* ==================== ÂìçÂ∫îÂºèËÆæËÆ° ==================== */
        @media (max-width: 1200px) {
            .container { padding: 10px; }
            .stats-grid { grid-template-columns: repeat(3, 1fr); }
        }
        
        @media (max-width: 992px) {
            .stats-grid { grid-template-columns: repeat(2, 1fr); }
            .button-group { justify-content: center; }
            .btn { min-width: 140px; }
            .action-buttons { flex-direction: column; }
            .patrol-controls { flex-direction: column; }
            .patrol-controls input, .patrol-controls select, .patrol-controls button { width: 100%; min-width: auto; }
            .speed-options { justify-content: center; }
            .speed-btn { min-width: 110px; }
        }
        
        @media (max-width: 768px) {
            .header h1 { font-size: 2rem; }
            .status-banner { flex-direction: column; align-items: stretch; gap: 15px; }
            .api-status-container { justify-content: space-between; width: 100%; }
            .stats-grid { grid-template-columns: repeat(2, 1fr); gap: 15px; }
            .btn { padding: 12px 20px; font-size: 0.95rem; min-width: 130px; }
            .info-row { flex-direction: column; gap: 10px; }
            .info-label { width: 100%; }
            .balance-value { font-size: 1.5rem; min-width: auto; }
            .table-container { max-height: 300px; }
            .patrol-table th, .patrol-table td { padding: 12px 10px; font-size: 0.85rem; }
            .notification { max-width: 350px; }
        }
        
        @media (max-width: 576px) {
            .header h1 { font-size: 1.8rem; }
            .stats-grid { grid-template-columns: 1fr; }
            .btn { min-width: 100%; margin-bottom: 10px; }
            .button-group { gap: 10px; }
            .speed-options { flex-direction: column; }
            .speed-btn { width: 100%; }
            .api-info { flex-direction: column; align-items: flex-start; gap: 10px; }
            .api-info-item { width: 100%; justify-content: space-between; }
            .balance-amount { font-size: 2rem; }
            .patrol-table th, .patrol-table td { padding: 10px 8px; font-size: 0.8rem; }
            .mnemonic-cell { max-width: 120px; }
            .notification { max-width: 300px; right: 10px; top: 10px; }
        }
        
        @media (max-width: 480px) {
            .header h1 { font-size: 1.6rem; }
            .btc-amount { font-size: 1.3rem; }
            .stat-value { font-size: 1.8rem; }
            .btn { padding: 10px 15px; font-size: 0.9rem; }
            .action-btn { min-width: 100%; }
            .pagination { flex-wrap: wrap; justify-content: center; }
            .page-btn { min-width: 40px; padding: 8px 12px; font-size: 0.85rem; }
            .notification { padding: 20px; max-width: calc(100% - 20px); }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Â§¥ÈÉ® -->
        <div class="header">
            <h1>‚ö° BTCÁ¢∞Êíû 2.0</h1>
            <div class="version">v1.3 - ÁªüËÆ°ÈÄªËæë‰øÆÂ§çÁâà</div>
            <div class="subtitle">ÂÆåÂÖ®Áã¨Á´ãÁöÑBTCÂú∞ÂùÄÊâ´ÊèèËß£ÂÜ≥ÊñπÊ°à</div>
        </div>
        
        <!-- Áä∂ÊÄÅÊ®™ÂπÖ -->
        <div class="status-banner">
            <div class="btc-info">
                <span class="btc-icon">‚Çø</span>
                <span class="btc-amount" id="totalBTC">0.00000000 BTC</span>
            </div>
            
            <div class="api-status-container">
                <div class="api-status" id="apiStatus">
                    <span class="status-dot" id="statusDot"></span>
                    <span class="status-text" id="statusText">ÂàùÂßãÂåñ‰∏≠...</span>
                </div>
                <div class="queue-info">
                    <span>ÂæÖÊ£ÄÊµã:</span>
                    <span class="queue-count" id="queueCount">0</span>
                </div>
                <button class="reconnect-btn" id="reconnectBtn" onclick="reconnectAPI()">
                    <span>‚Üª</span> ÈáçËøûAPI
                </button>
                <div class="alarm-control">
                    <div class="alarm-toggle active" id="alarmToggle" onclick="toggleAlarm()">
                        <span>üîî Ë≠¶Êä•Âô®</span>
                        <div class="toggle-slider">
                            <div class="toggle-dot"></div>
                        </div>
                    </div>
                    <button class="test-alarm-btn" onclick="testAlarm()">ÊµãËØï</button>
                </div>
            </div>
        </div>
        
        <!-- ÊéßÂà∂Èù¢Êùø -->
        <div class="control-panel">
            <div class="button-group">
                <button class="btn btn-start" id="startButton" onclick="startScanner()">
                    <span class="loading-spinner" id="startSpinner" style="display:none;"></span>
                    <span>‚ñ∂</span> <span id="startText">ÂºÄÂßãÊâ´Êèè</span>
                </button>
                <button class="btn btn-pause" id="pauseButton" onclick="pauseScanner()" style="display:none;">
                    <span>‚è∏</span> ÊöÇÂÅú
                </button>
                <button class="btn btn-continue" id="continueButton" onclick="continueScanner()" style="display:none;">
                    <span>‚ñ∂</span> ÁªßÁª≠
                </button>
                <button class="btn btn-stats" onclick="showStats()">
                    <span>üìä</span> ÁªüËÆ°
                </button>
                <button class="btn btn-export" onclick="exportData()">
                    <span>üìã</span> ÂØºÂá∫
                </button>
                <button class="btn btn-reconnect" onclick="manualReconnect()">
                    <span>‚Üª</span> Âº∫Âà∂ÈáçËøû
                </button>
            </div>
            
            <!-- APIÈÄâÊã©Âô® -->
            <div class="api-selector-container">
                <div class="api-selector-title">APIÊï∞ÈáèÈÄâÊã© (ÊØè100‰∏™Âú∞ÂùÄËá™Âä®ÂàáÊç¢)</div>
                <div class="api-buttons" id="apiButtons">
                    <button class="api-btn active" onclick="setApiCount(1)">1‰∏™API</button>
                    <button class="api-btn" onclick="setApiCount(2)">2‰∏™API</button>
                    <button class="api-btn" onclick="setApiCount(3)">3‰∏™API</button>
                    <button class="api-btn" onclick="setApiCount(4)">4‰∏™API</button>
                    <button class="api-btn" onclick="setApiCount(5)">5‰∏™API</button>
                    <button class="api-btn" onclick="setApiCount(6)">6‰∏™API</button>
                    <button class="api-btn" onclick="setApiCount(7)">7‰∏™API</button>
                    <button class="api-btn" onclick="setApiCount(8)">8‰∏™API</button>
                    <button class="api-btn" onclick="setApiCount(9)">9‰∏™API</button>
                </div>
                <div class="api-rotation-info">
                    ÂΩìÂâç‰ΩøÁî® <span id="apiCountDisplay">1</span> ‰∏™API | Ëá™Âä®ËΩÆÊç¢: ÊØè <span id="rotationInterval">100</span> ‰∏™Âú∞ÂùÄÂàáÊç¢‰∏ÄÊ¨° | ÂΩìÂâçAPIÁ¥¢Âºï: <span id="currentApiIndexDisplay">0</span>
                </div>
            </div>
            
            <div class="speed-control">
                <label>Êâ´ÊèèÈÄüÂ∫¶ÊéßÂà∂</label>
                
                <div class="speed-slider-container">
                    <div class="speed-value-display" id="speedValueDisplay">1 ‰∏™/Áßí</div>
                    <input type="range" min="1" max="5" step="1" value="1" class="speed-slider" id="speedSlider" oninput="updateSpeed()">
                </div>
                
                <div class="speed-options" id="speedOptions">
                    <button class="speed-btn active" data-speed="1" onclick="setSpeed('1')">
                        ‰ΩéÈÄü (1‰∏™/Áßí)
                    </button>
                    <button class="speed-btn" data-speed="2" onclick="setSpeed('2')">
                        ‰∏≠ÈÄü (2‰∏™/Áßí)
                    </button>
                    <button class="speed-btn" data-speed="5" onclick="setSpeed('5')">
                        È´òÈÄü (5‰∏™/Áßí)
                    </button>
                    <button class="speed-btn" data-speed="10" onclick="setSpeed('10')">
                        Ë∂ÖÈÄü (10‰∏™/Áßí)
                    </button>
                    <button class="speed-btn" data-speed="20" onclick="setSpeed('20')">
                        ÊûÅÈÄü (20‰∏™/Áßí)
                    </button>
                </div>
                
                <div class="speed-description" id="speedDescription">
                    ÊúÄÁ®≥ÂÆöÁöÑÊâ´ÊèèÈÄüÂ∫¶ÔºåÁ°Æ‰øùAPIË∞ÉÁî®ÊàêÂäüÁéáÊúÄÈ´ò
                </div>
            </div>
            
            <div class="api-info">
                <div class="api-provider active" id="currentApi">
                    <span>ÂΩìÂâçAPI: ÊµãËØï‰∏≠</span>
                </div>
                <div class="api-info-item">
                    <span class="api-info-label">Â∑≤ÁîüÊàê:</span>
                    <span class="api-info-value" id="apiGenerated">0</span>
                </div>
                <div class="api-info-item">
                    <span class="api-info-label">Â∑≤Ê£ÄÊµã:</span>
                    <span class="api-info-value" id="apiChecked">0</span>
                </div>
                <div class="api-info-item">
                    <span class="api-info-label">ÊàêÂäüÁéá:</span>
                    <span class="api-info-value" id="apiSuccessRate">0%</span>
                </div>
                <div class="api-info-item">
                    <span class="api-info-label">ËøêË°åÊó∂Èó¥:</span>
                    <span class="api-info-value" id="apiRuntime">0s</span>
                </div>
            </div>
        </div>
        
        <!-- ÁªüËÆ°‰ø°ÊÅØ -->
        <div class="stats-panel">
            <div class="panel-header">
                <span class="panel-icon">üìà</span>
                <h3>ÂÆûÊó∂ÁªüËÆ°‰ø°ÊÅØ</h3>
            </div>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="statGenerated">0</div>
                    <div class="stat-label">Â∑≤ÁîüÊàêÂú∞ÂùÄ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="statChecked">0</div>
                    <div class="stat-label">Â∑≤Ê£ÄÊµãÂú∞ÂùÄ</div>
                </div>
                <div class="stat-card highlight">
                    <div class="stat-value" id="statWithBalance">0</div>
                    <div class="stat-label">Êúâ‰ΩôÈ¢ùÂú∞ÂùÄ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="statSuccessRate">0%</div>
                    <div class="stat-label">Ê£ÄÊµãÊàêÂäüÁéá</div>
                </div>
                <div class="stat-card highlight">
                    <div class="stat-value" id="statTotalBTC">0.00000000</div>
                    <div class="stat-label">ÊÄªBTC‰ΩôÈ¢ù</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="statQueueSize">0</div>
                    <div class="stat-label">ÈòüÂàóÈïøÂ∫¶</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="statSpeed">0</div>
                    <div class="stat-label">ÂΩìÂâçÈÄüÂ∫¶(‰∏™/Áßí)</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="statUptime">0s</div>
                    <div class="stat-label">ËøêË°åÊó∂Èó¥</div>
                </div>
            </div>
        </div>
        
        <!-- ÂΩìÂâçÊâ´Êèè -->
        <div class="current-scan">
            <div class="panel-header">
                <span class="panel-icon">üéØ</span>
                <h3>ÂΩìÂâçÊâ´ÊèèËØ¶ÊÉÖ <span id="currentScanNumber">#0</span></h3>
            </div>
            <div class="scan-info">
                <div class="info-row">
                    <div class="info-label">Âä©ËÆ∞ËØç:</div>
                    <div class="info-value">
                        <div class="mnemonic-value" id="currentMnemonic">Á≠âÂæÖÊâ´Êèè...</div>
                    </div>
                </div>
                <div class="info-row">
                    <div class="info-label">Âú∞ÂùÄ:</div>
                    <div class="info-value">
                        <div class="address-value" id="currentAddress">-</div>
                    </div>
                </div>
                <div class="info-row">
                    <div class="info-label">ÁßÅÈí•:</div>
                    <div class="info-value">
                        <div class="private-key-value" id="currentPrivateKey">-</div>
                    </div>
                </div>
                <div class="info-row">
                    <div class="info-label">‰ΩôÈ¢ùÁä∂ÊÄÅ:</div>
                    <div class="info-value">
                        <span class="balance-value balance-zero" id="currentBalance">Á≠âÂæÖÊ£ÄÊµã...</span>
                    </div>
                </div>
                <div class="info-row">
                    <div class="info-label">Ê£ÄÊµãÊó∂Èó¥:</div>
                    <div class="info-value" id="currentTime">-</div>
                </div>
                <div class="info-row">
                    <div class="info-label">Ê£ÄÊµãÁä∂ÊÄÅ:</div>
                    <div class="info-value" id="currentStatus">ÂáÜÂ§áÂ∞±Áª™</div>
                </div>
                
                <div class="action-buttons">
                    <button class="action-btn" onclick="copyCurrentMnemonic()">
                        <span>üìã</span> Â§çÂà∂Âä©ËÆ∞ËØç
                    </button>
                    <button class="action-btn" onclick="copyCurrentPrivateKey()">
                        <span>üîë</span> Â§çÂà∂ÁßÅÈí•
                    </button>
                    <button class="action-btn" onclick="viewCurrentAddress()">
                        <span>üîç</span> Êü•ÁúãÂú∞ÂùÄ
                    </button>
                    <button class="action-btn" onclick="copyCurrentAll()">
                        <span>üìù</span> Â§çÂà∂ÂÖ®ÈÉ®
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Â∑°Êü•Èù¢Êùø -->
        <div class="patrol-panel">
            <div class="panel-header">
                <span class="panel-icon">üîç</span>
                <h3>Âú∞ÂùÄÂ∑°Êü•Èù¢Êùø</h3>
            </div>
            <div class="patrol-controls">
                <input type="text" id="searchInput" placeholder="ÊêúÁ¥¢Âä©ËÆ∞ËØç„ÄÅÂú∞ÂùÄ„ÄÅÁßÅÈí•...">
                <select id="filterBalance">
                    <option value="all">ÊâÄÊúâ‰ΩôÈ¢ùÁä∂ÊÄÅ</option>
                    <option value="positive">Êúâ‰ΩôÈ¢ùÂú∞ÂùÄ</option>
                    <option value="zero">Èõ∂‰ΩôÈ¢ùÂú∞ÂùÄ</option>
                    <option value="failed">Ê£ÄÊµãÂ§±Ë¥•</option>
                </select>
                <select id="sortBy">
                    <option value="time">ÊåâÊó∂Èó¥ÊéíÂ∫è(ÊúÄÊñ∞)</option>
                    <option value="balance">Êåâ‰ΩôÈ¢ùÊéíÂ∫è(ÊúÄÈ´ò)</option>
                    <option value="address">ÊåâÂú∞ÂùÄÊéíÂ∫è</option>
                </select>
                <button onclick="searchData()">ÊêúÁ¥¢</button>
                <button onclick="clearSearch()">Ê∏ÖÈô§ÊêúÁ¥¢</button>
                <button onclick="refreshPatrolView()">Âà∑Êñ∞Ë°®Ê†º</button>
            </div>
            
            <div class="table-container">
                <table class="patrol-table" id="patrolTable">
                    <thead>
                        <tr>
                            <th style="width: 60px;">ID</th>
                            <th>Âä©ËÆ∞ËØç (12‰∏™ÂçïËØç)</th>
                            <th>BTCÂú∞ÂùÄ</th>
                            <th style="width: 140px;">‰ΩôÈ¢ù (BTC)</th>
                            <th style="width: 90px;">Êìç‰Ωú</th>
                        </tr>
                    </thead>
                    <tbody id="patrolTableBody">
                        <tr>
                            <td colspan="5" style="text-align: center; padding: 60px; color: #888; font-size: 1.1rem;">
                                üöÄ ÂáÜÂ§áÂ∞±Áª™ÔºåÁÇπÂáª"ÂºÄÂßãÊâ´Êèè"ÊåâÈíÆÂêØÂä®BTCÂú∞ÂùÄÊâ´Êèè
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="pagination" id="pagination">
                <!-- ÂàÜÈ°µÊåâÈíÆÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÁîüÊàê -->
            </div>
        </div>
        
        <!-- ÂèëÁé∞‰ΩôÈ¢ù -->
        <div class="found-balances">
            <div class="panel-header">
                <span class="panel-icon">üí∞</span>
                <h3>ÂèëÁé∞‰ΩôÈ¢ùËÆ∞ÂΩï</h3>
            </div>
            <div id="foundBalancesList">
                <div style="text-align: center; color: #888; padding: 40px; font-size: 1.1rem;">
                    üí° Â∞öÊú™ÂèëÁé∞‰ªª‰ΩïBTC‰ΩôÈ¢ùÔºåÊâ´ÊèèÁªßÁª≠ËøõË°å‰∏≠...
                </div>
            </div>
        </div>
        
        <!-- ÈÄöÁü•ÂºπÁ™ó -->
        <div class="notification" id="notification">
            <div class="notification-header">
                <span>üéâ ÂèëÁé∞BTC‰ΩôÈ¢ùÔºÅ</span>
            </div>
            <div id="notificationContent">
                <div class="notification-balance" id="notificationBalance">0.00000000 BTC</div>
                <div style="margin-bottom: 15px;">
                    <div><strong>Âú∞ÂùÄ:</strong> <span id="notificationAddress" style="font-family: monospace;"></span></div>
                    <div><strong>Êó∂Èó¥:</strong> <span id="notificationTime"></span></div>
                    <div><strong>ID:</strong> <span id="notificationId"></span></div>
                </div>
            </div>
            <div class="notification-actions">
                <button class="notification-btn" onclick="copyNotificationData()">Â§çÂà∂‰ø°ÊÅØ</button>
                <button class="notification-btn primary" onclick="viewNotificationAddress()">Êü•ÁúãÂú∞ÂùÄ</button>
            </div>
        </div>
        
        <!-- Èü≥È¢ëÂÖÉÁ¥†ÔºàË≠¶Êä•Â£∞Ôºâ -->
        <audio id="alarmSound" preload="auto">
            <source src="https://assets.mixkit.co/sfx/preview/mixkit-alarm-digital-clock-beep-989.mp3" type="audio/mpeg">
        </audio>
    </div>
    
    <script src="buidl.js"></script>
    <script>
        // ==================== ÂÖ®Â±ÄÂèòÈáè ====================
        let isScanning = false;
        let scanCounter = 0;
        let checkedCounter = 0;
        let foundCounter = 0;
        let totalBTC = 0;
        let checkTimer = null;
        
        // APIËøûÊé•Áä∂ÊÄÅ
        let apiConnected = false;
        let isReconnecting = false;
        let retryCount = 0;
        const maxRetries = 5;
        
        // APIÁÆ°ÁêÜ
        let currentApiIndex = 0;
        let currentApiCount = 1; // ÈªòËÆ§‰ΩøÁî®1‰∏™API
        let checksPerApi = 100; // ÊØè‰∏™APIÊ£ÄÊü•100‰∏™Âú∞ÂùÄÂêéÂàáÊç¢
        let currentCheckCount = 0; // ÂΩìÂâçAPIÂ∑≤Ê£ÄÊü•ÁöÑÂú∞ÂùÄÊï∞
        
        // Â≠òÂÇ®ÊâÄÊúâÁªìÊûú
        let allResults = [];
        let filteredResults = [];
        let currentPage = 1;
        const resultsPerPage = 20;
        
        // ÂΩìÂâçÊâ´ÊèèÁöÑÊï∞ÊçÆ
        let currentData = null;
        
        // ÊÄßËÉΩË∑üË∏™
        let scanStartTime = null;
        
        // ÊòØÂê¶Ê≠£Âú®Ê£ÄÊü•‰ΩôÈ¢ù
        let isCheckingBalance = false;
        
        // ÈÄüÂ∫¶ÊéßÂà∂
        let checkInterval = 1000; // ÈªòËÆ§1Áßí1‰∏™
        
        // ==================== ÊîπËøõÁöÑAPIÁÆ°ÁêÜÁ≥ªÁªü ====================
        let apiProviders = [
            {
                name: 'Blockchain.info',
                url: (address) => `https://blockchain.info/q/addressbalance/${address}?confirmations=0`,
                parse: async (text, address) => {
                    try {
                        const balance = parseInt(text);
                        return {
                            balance: isNaN(balance) ? 0 : balance,
                            received: 0,
                            txCount: 0,
                            success: !isNaN(balance)
                        };
                    } catch (e) {
                        return { balance: -1, success: false };
                    }
                },
                active: true,
                success: 0,
                attempts: 0,
                lastUsed: 0,
                timeout: 5000
            },
            {
                name: 'Blockchain.info (JSON)',
                url: (address) => `https://blockchain.info/balance?active=${address}&confirmations=0`,
                parse: async (data, address) => {
                    try {
                        const info = data[address];
                        return info ? {
                            balance: info.final_balance || 0,
                            received: info.total_received || 0,
                            txCount: info.n_tx || 0,
                            success: true
                        } : { balance: -1, success: false };
                    } catch (e) {
                        return { balance: -1, success: false };
                    }
                },
                active: true,
                success: 0,
                attempts: 0,
                lastUsed: 0,
                timeout: 6000
            },
            {
                name: 'BlockCypher',
                url: (address) => `https://api.blockcypher.com/v1/btc/main/addrs/${address}/balance`,
                parse: async (data) => {
                    try {
                        return {
                            balance: data.balance || 0,
                            received: data.total_received || 0,
                            txCount: data.n_tx || 0,
                            success: true
                        };
                    } catch (e) {
                        return { balance: -1, success: false };
                    }
                },
                active: true,
                success: 0,
                attempts: 0,
                lastUsed: 0,
                timeout: 5000
            },
            {
                name: 'Blockchair',
                url: (address) => `https://api.blockchair.com/bitcoin/dashboards/address/${address}`,
                parse: async (data) => {
                    try {
                        const addrData = data.data?.[address]?.address;
                        return addrData ? {
                            balance: addrData.balance || 0,
                            received: addrData.received || 0,
                            txCount: addrData.transaction_count || 0,
                            success: true
                        } : { balance: -1, success: false };
                    } catch (e) {
                        return { balance: -1, success: false };
                    }
                },
                active: true,
                success: 0,
                attempts: 0,
                lastUsed: 0,
                timeout: 6000
            },
            {
                name: 'Mempool.space',
                url: (address) => `https://mempool.space/api/address/${address}`,
                parse: async (data) => {
                    try {
                        return {
                            balance: (data.chain_stats.funded_txo_sum || 0) - (data.chain_stats.spent_txo_sum || 0),
                            received: data.chain_stats.funded_txo_sum || 0,
                            txCount: data.chain_stats.tx_count || 0,
                            success: true
                        };
                    } catch (e) {
                        return { balance: -1, success: false };
                    }
                },
                active: true,
                success: 0,
                attempts: 0,
                lastUsed: 0,
                timeout: 7000
            },
            {
                name: 'Blockstream',
                url: (address) => `https://blockstream.info/api/address/${address}`,
                parse: async (data) => {
                    try {
                        return {
                            balance: data.chain_stats.funded_txo_sum - data.chain_stats.spent_txo_sum,
                            received: data.chain_stats.funded_txo_sum,
                            txCount: data.chain_stats.tx_count,
                            success: true
                        };
                    } catch (e) {
                        return { balance: -1, success: false };
                    }
                },
                active: true,
                success: 0,
                attempts: 0,
                lastUsed: 0,
                timeout: 6000
            },
            {
                name: 'SoChain',
                url: (address) => `https://chain.so/api/v2/address/BTC/${address}`,
                parse: async (data) => {
                    try {
                        return {
                            balance: Math.round(parseFloat(data.data.balance || 0) * 100000000),
                            received: Math.round(parseFloat(data.data.total_received || 0) * 100000000),
                            txCount: parseInt(data.data.total_txs || 0),
                            success: true
                        };
                    } catch (e) {
                        return { balance: -1, success: false };
                    }
                },
                active: true,
                success: 0,
                attempts: 0,
                lastUsed: 0,
                timeout: 5000
            },
            {
                name: 'BTC.com',
                url: (address) => `https://chain.api.btc.com/v3/address/${address}`,
                parse: async (data) => {
                    try {
                        const addrData = data.data;
                        return addrData ? {
                            balance: Math.round((addrData.balance || 0) * 100000000),
                            received: Math.round((addrData.received || 0) * 100000000),
                            txCount: addrData.tx_count || 0,
                            success: true
                        } : { balance: -1, success: false };
                    } catch (e) {
                        return { balance: -1, success: false };
                    }
                },
                active: true,
                success: 0,
                attempts: 0,
                lastUsed: 0,
                timeout: 5000
            },
            {
                name: 'Insight',
                url: (address) => `https://insight.bitpay.com/api/addr/${address}/balance`,
                parse: async (text, address) => {
                    try {
                        const balance = parseInt(text);
                        return {
                            balance: isNaN(balance) ? 0 : balance,
                            received: 0,
                            txCount: 0,
                            success: !isNaN(balance)
                        };
                    } catch (e) {
                        return { balance: -1, success: false };
                    }
                },
                active: true,
                success: 0,
                attempts: 0,
                lastUsed: 0,
                timeout: 5000
            }
        ];

        let apiTotalAttempts = 0;
        let apiTotalSuccess = 0;
        
        // Ë≠¶Êä•Á≥ªÁªü
        let alarmEnabled = true;
        let alarmSound = null;
        
        // ==================== APIÈÄâÊã©ÂäüËÉΩ ====================
        function setApiCount(count) {
            currentApiCount = Math.min(Math.max(1, count), 9);
            currentApiIndex = 0;
            currentCheckCount = 0;
            
            // Êõ¥Êñ∞ÊåâÈíÆÁä∂ÊÄÅ
            const buttons = document.querySelectorAll('.api-btn');
            buttons.forEach((btn, index) => {
                if (index + 1 === currentApiCount) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
            
            // Êõ¥Êñ∞ÊòæÁ§∫
            document.getElementById('apiCountDisplay').textContent = currentApiCount;
            document.getElementById('currentApiIndexDisplay').textContent = currentApiIndex;
            
            // ÈáçÊñ∞ÊµãËØïÊâÄÊúâAPI
            testAllAPIs().then(success => {
                if (success) {
                    showNotification('APIËÆæÁΩÆÂ∑≤Êõ¥Êñ∞', `Áé∞Âú®‰ΩøÁî® ${currentApiCount} ‰∏™APIÔºåÊØè${checksPerApi}‰∏™Âú∞ÂùÄËá™Âä®ÂàáÊç¢`, 'info');
                }
            });
            
            console.log(`ËÆæÁΩÆ‰∏∫‰ΩøÁî® ${currentApiCount} ‰∏™API`);
        }

        function rotateAPI() {
            currentCheckCount++;
            
            // ÊØèÊ£ÄÊü•100‰∏™Âú∞ÂùÄÂàáÊç¢‰∏ÄÊ¨°API
            if (currentCheckCount >= checksPerApi) {
                currentApiIndex = (currentApiIndex + 1) % currentApiCount;
                currentCheckCount = 0;
                
                // Êõ¥Êñ∞ÊòæÁ§∫
                document.getElementById('currentApiIndexDisplay').textContent = currentApiIndex;
                updateApiDisplay();
                
                console.log(`ÂàáÊç¢Âà∞‰∏ã‰∏Ä‰∏™API: ${currentApiIndex} (${apiProviders[currentApiIndex]?.name || 'Êú™Áü•'})`);
            }
        }

        // ==================== ÈÄüÂ∫¶ÊéßÂà∂ ====================
        function updateSpeed() {
            const slider = document.getElementById('speedSlider');
            const speedValue = parseInt(slider.value);
            
            let actualInterval = 1000;
            let displayText = "1";
            
            switch(speedValue) {
                case 1:
                    actualInterval = 1000;
                    displayText = "1";
                    break;
                case 2:
                    actualInterval = 500;
                    displayText = "2";
                    break;
                case 3:
                    actualInterval = 200;
                    displayText = "5";
                    break;
                case 4:
                    actualInterval = 100;
                    displayText = "10";
                    break;
                case 5:
                    actualInterval = 50;
                    displayText = "20";
                    break;
            }
            
            document.getElementById('speedValueDisplay').textContent = displayText + " ‰∏™/Áßí";
            checkInterval = actualInterval;
            
            updateSpeedButtons(displayText);
            
            if (isScanning) {
                clearTimeout(checkTimer);
                if (actualInterval > 0) {
                    checkTimer = setTimeout(() => generateAndCheck(), actualInterval);
                } else {
                    // Â¶ÇÊûúÊòØÊûÅÈÄüÊ®°ÂºèÔºåÁ´ãÂç≥ÂºÄÂßã‰∏ã‰∏Ä‰∏™
                    setTimeout(() => generateAndCheck(), 0);
                }
            }
            
            console.log(`ÈÄüÂ∫¶ËÆæÁΩÆ‰∏∫: ${displayText}‰∏™/Áßí, Èó¥Èöî: ${actualInterval}ms`);
        }

        function setSpeed(speed) {
            const slider = document.getElementById('speedSlider');
            
            let sliderValue = 1;
            switch(speed) {
                case "1": sliderValue = 1; break;
                case "2": sliderValue = 2; break;
                case "5": sliderValue = 3; break;
                case "10": sliderValue = 4; break;
                case "20": sliderValue = 5; break;
            }
            
            slider.value = sliderValue;
            updateSpeed();
            
            // Êõ¥Êñ∞ÊèèËø∞
            const descriptions = {
                "1": "ÊúÄÁ®≥ÂÆöÁöÑÊâ´ÊèèÈÄüÂ∫¶ÔºåÁ°Æ‰øùAPIË∞ÉÁî®ÊàêÂäüÁéáÊúÄÈ´ò",
                "2": "Âπ≥Ë°°ÈÄüÂ∫¶ÂíåÁ®≥ÂÆöÊÄßÔºåÈÄÇÂêàÂ∏∏ËßÑ‰ΩøÁî®",
                "5": "ËæÉÂø´ÁöÑÊâ´ÊèèÈÄüÂ∫¶ÔºåÂèØËÉΩ‰ºöÈôç‰ΩéÊàêÂäüÁéá",
                "10": "Âø´ÈÄüÊâ´ÊèèÔºåÂª∫ËÆÆÂú®APIÁ®≥ÂÆöÊó∂‰ΩøÁî®",
                "20": "ÊúÄÂø´ÁöÑÊâ´ÊèèÈÄüÂ∫¶Ôºå‰ªÖÊé®ËçêÂú®Êú¨Âú∞API‰ΩøÁî®"
            };
            document.getElementById('speedDescription').textContent = descriptions[speed] || "";
        }

        function updateSpeedButtons(activeSpeed) {
            const buttons = document.querySelectorAll('.speed-btn');
            buttons.forEach(btn => {
                if (btn.getAttribute('data-speed') === activeSpeed) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
        }

        // ==================== Âø´ÈÄü‰ΩôÈ¢ùÊ£ÄÊü•ÂáΩÊï∞ ====================
        async function checkBalanceFast(address) {
            apiTotalAttempts++;
            
            // Ëé∑ÂèñÂΩìÂâçAPIÔºàÈôêÂà∂Âú®ÂΩìÂâçÈÄâÊã©ÁöÑAPIÊï∞ÈáèÂÜÖÔºâ
            const providerIndex = currentApiIndex % currentApiCount;
            const provider = apiProviders[providerIndex];
            
            if (!provider) {
                console.error('Ê≤°ÊúâÂèØÁî®ÁöÑAPIÊèê‰æõÂïÜ');
                return {
                    balance: -1,
                    received: 0,
                    txCount: 0,
                    success: false,
                    apiSuccess: false
                };
            }
            
            try {
                const controller = new AbortController();
                const timeoutId = setTimeout(() => controller.abort(), provider.timeout || 5000);
                
                const response = await fetch(provider.url(address), {
                    method: 'GET',
                    signal: controller.signal,
                    headers: {
                        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36',
                        'Accept': 'application/json'
                    }
                });
                
                clearTimeout(timeoutId);
                
                if (response.ok) {
                    const contentType = response.headers.get('content-type');
                    let data;
                    
                    if (contentType && contentType.includes('application/json')) {
                        data = await response.json();
                    } else {
                        data = await response.text();
                    }
                    
                    const result = await provider.parse(data, address);
                    
                    if (result.success) {
                        provider.success++;
                        provider.attempts++;
                        provider.lastUsed = Date.now();
                        apiTotalSuccess++;
                        updateAPISuccessRate();
                        
                        // Ëá™Âä®ËΩÆÊç¢API
                        rotateAPI();
                        
                        return { ...result, apiSuccess: true };
                    } else {
                        provider.attempts++;
                        
                        // Â¶ÇÊûúÂΩìÂâçAPIÂ§±Ë¥•ÔºåÂ∞ùËØï‰∏ã‰∏Ä‰∏™
                        currentApiIndex = (currentApiIndex + 1) % currentApiCount;
                        currentCheckCount = 0;
                        updateApiDisplay();
                        
                        return { ...result, apiSuccess: false };
                    }
                } else {
                    clearTimeout(timeoutId);
                    provider.attempts++;
                    
                    // Â¶ÇÊûúÂΩìÂâçAPIÂ§±Ë¥•ÔºåÂ∞ùËØï‰∏ã‰∏Ä‰∏™
                    currentApiIndex = (currentApiIndex + 1) % currentApiCount;
                    currentCheckCount = 0;
                    updateApiDisplay();
                    
                    return {
                        balance: -1,
                        received: 0,
                        txCount: 0,
                        success: false,
                        apiSuccess: false
                    };
                }
            } catch (error) {
                provider.attempts++;
                
                // Â¶ÇÊûúÂΩìÂâçAPIÂ§±Ë¥•ÔºåÂ∞ùËØï‰∏ã‰∏Ä‰∏™
                currentApiIndex = (currentApiIndex + 1) % currentApiCount;
                currentCheckCount = 0;
                updateApiDisplay();
                
                return {
                    balance: -1,
                    received: 0,
                    txCount: 0,
                    success: false,
                    apiSuccess: false
                };
            }
        }

        // ==================== APIËøûÊé•ÁÆ°ÁêÜ ====================
        async function testAllAPIs() {
            updateApiStatus('ÊµãËØïAPI‰∏≠...', 'connecting');
            const testAddress = "1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa";
            
            // Âè™ÊµãËØïÂΩìÂâçÈÄâÊã©Êï∞ÈáèÁöÑAPI
            const providersToTest = apiProviders.slice(0, currentApiCount);
            let workingCount = 0;
            
            const testPromises = providersToTest.map(async (provider, index) => {
                try {
                    const controller = new AbortController();
                    const timeoutId = setTimeout(() => controller.abort(), 3000);
                    
                    const response = await fetch(provider.url(testAddress), {
                        method: 'GET',
                        signal: controller.signal,
                        headers: {
                            'User-Agent': 'Mozilla/5.0',
                            'Accept': 'application/json'
                        }
                    });
                    
                    clearTimeout(timeoutId);
                    
                    if (response.ok) {
                        console.log(`API ${provider.name} ÊµãËØïÊàêÂäü`);
                        provider.active = true;
                        workingCount++;
                        return true;
                    }
                } catch (error) {
                    console.log(`API ${provider.name} ÊµãËØïÂ§±Ë¥•:`, error.message);
                    provider.active = false;
                }
                return false;
            });
            
            await Promise.all(testPromises);
            
            if (workingCount > 0) {
                currentApiIndex = 0;
                currentCheckCount = 0;
                apiConnected = true;
                retryCount = 0;
                updateApiDisplay();
                updateApiStatus('Âú®Á∫ø', 'online');
                console.log(`APIÊµãËØïÂÆåÊàêÔºå${workingCount}/${currentApiCount} ‰∏™APIÂèØÁî®`);
                return true;
            }
            
            updateApiStatus('ÊâÄÊúâAPIÁ¶ªÁ∫ø', 'offline');
            return false;
        }

        async function reconnectAPI() {
            if (isReconnecting) return;
            
            isReconnecting = true;
            updateReconnectButton(true);
            
            console.log("ÂºÄÂßãÈáçËøûAPI...");
            
            const success = await testAllAPIs();
            
            isReconnecting = false;
            updateReconnectButton(false);
            
            if (success) {
                console.log("ÈáçËøûÊàêÂäü");
                return true;
            } else {
                retryCount++;
                console.log(`ÈáçËøûÂ§±Ë¥•ÔºåÂ∑≤Â∞ùËØï ${retryCount} Ê¨°`);
                
                if (retryCount >= maxRetries) {
                    updateApiStatus('ÈáçËøûÂ§±Ë¥•', 'offline');
                } else {
                    setTimeout(reconnectAPI, 5000);
                }
                return false;
            }
        }

        // Ëá™Âä®ÈáçËøûÂáΩÊï∞
        async function autoReconnect() {
            console.log("ÂºÄÂßãËá™Âä®ÈáçËøû...");
            const success = await testAllAPIs();
            
            if (success) {
                console.log("Ëá™Âä®ÈáçËøûÊàêÂäü");
                apiConnected = true;
                updateApiStatus('Âú®Á∫ø', 'online');
                return true;
            } else {
                console.log("Ëá™Âä®ÈáçËøûÂ§±Ë¥•Ôºå5ÁßíÂêéÈáçËØï");
                setTimeout(autoReconnect, 5000);
                return false;
            }
        }

        function manualReconnect() {
            console.log("ÊâãÂä®Ëß¶ÂèëÈáçËøû");
            retryCount = 0;
            apiProviders.forEach(p => {
                p.active = true;
                p.success = 0;
                p.attempts = 0;
            });
            reconnectAPI();
        }

        // ==================== Êâ´ÊèèÊéßÂà∂ ====================
        function startScanner() {
            if (isScanning) return;
            
            if (!apiConnected) {
                alert('ËØ∑ÂÖàÁ≠âÂæÖAPIËøûÊé•ÊàêÂäüÂÜçÂºÄÂßãÊâ´Êèè');
                return;
            }
            
            isScanning = true;
            scanStartTime = Date.now();
            
            scanCounter = 0;
            checkedCounter = 0;
            foundCounter = 0;
            totalBTC = 0;
            allResults = [];
            
            updateStats();
            updateQueueInfo();
            updateFoundBalances();
            clearPatrolView();
            
            const startButton = document.getElementById('startButton');
            const startText = document.getElementById('startText');
            startText.textContent = 'Êâ´Êèè‰∏≠...';
            
            startButton.style.display = 'none';
            document.getElementById('pauseButton').style.display = 'flex';
            document.getElementById('continueButton').style.display = 'none';
            
            // ÂºÄÂßãÁ¨¨‰∏Ä‰∏™Êâ´Êèè
            generateAndCheck();
            
            console.log(`Êâ´ÊèèÂ∑≤ÂºÄÂßãÔºåÈÄüÂ∫¶: ${1000/checkInterval}‰∏™/Áßí`);
        }

        function pauseScanner() {
            if (!isScanning) return;
            
            isScanning = false;
            if (checkTimer) {
                clearTimeout(checkTimer);
                checkTimer = null;
            }
            
            document.getElementById('pauseButton').style.display = 'none';
            document.getElementById('continueButton').style.display = 'flex';
            
            const startText = document.getElementById('startText');
            startText.textContent = 'ÂºÄÂßãÊâ´Êèè';
            
            console.log("Êâ´ÊèèÂ∑≤ÊöÇÂÅú");
        }

        function continueScanner() {
            if (isScanning) return;
            
            if (!apiConnected) {
                alert('ËØ∑ÂÖàÁ≠âÂæÖAPIËøûÊé•ÊàêÂäüÂÜçÁªßÁª≠Êâ´Êèè');
                return;
            }
            
            isScanning = true;
            
            const startButton = document.getElementById('startButton');
            const startText = document.getElementById('startText');
            startText.textContent = 'Êâ´Êèè‰∏≠...';
            
            startButton.style.display = 'none';
            document.getElementById('pauseButton').style.display = 'flex';
            document.getElementById('continueButton').style.display = 'none';
            
            // ÁªßÁª≠ÂºÄÂßãÊâ´Êèè
            generateAndCheck();
            
            console.log(`Êâ´ÊèèÁªßÁª≠ÔºåÈÄüÂ∫¶: ${1000/checkInterval}‰∏™/Áßí`);
        }

        async function generateAndCheck() {
            if (!isScanning || isCheckingBalance) return;
            
            isCheckingBalance = true;
            
            try {
                // ÁîüÊàêÊñ∞ÁöÑÂä©ËÆ∞ËØçÂíåÂú∞ÂùÄ
                scanCounter++;
                
                let words, address, privateKey;
                
                try {
                    const newmnemo = buidl.newMnemonic();
                    words = newmnemo.words;
                    
                    const hdseed = buidl.mnemonic2SeedHex(words);
                    const addr = buidl.fromHDSeed(hdseed.seedHex, 0, 0, 0);
                    address = addr.addr;
                    privateKey = addr.pk;
                } catch (error) {
                    console.error('ÁîüÊàêÂä©ËÆ∞ËØçÂ§±Ë¥•:', error);
                    words = 'ÁîüÊàêÈîôËØØ';
                    address = 'N/A';
                    privateKey = 'N/A';
                }
                
                const addressData = {
                    id: scanCounter,
                    words: words,
                    address: address,
                    privateKey: privateKey
                };
                
                // Êõ¥Êñ∞ÂΩìÂâçÊâ´ÊèèÊòæÁ§∫ÔºàÊ£ÄÊü•ÂâçÔºâ
                updateCurrentScanBeforeCheck(addressData);
                
                // Á´ãÂç≥Êõ¥Êñ∞ÁîüÊàêËÆ°Êï∞
                updateStats();
                
                let retryCount = 0;
                const maxRetries = 2;
                let success = false;
                
                while (retryCount < maxRetries && isScanning) {
                    try {
                        // Ê£ÄÊü•‰ΩôÈ¢ù
                        const balanceInfo = await checkBalanceFast(addressData.address);
                        
                        if (balanceInfo.success) {
                            checkedCounter++;
                            
                            const result = {
                                id: addressData.id,
                                words: addressData.words,
                                address: addressData.address,
                                privateKey: addressData.privateKey,
                                balance: balanceInfo.balance,
                                received: balanceInfo.received,
                                txCount: balanceInfo.txCount,
                                timestamp: new Date().toLocaleTimeString(),
                                date: new Date().toISOString(),
                                status: balanceInfo.balance > 0 ? 'positive' : 'zero'
                            };
                            
                            currentData = result;
                            allResults.unshift(result);
                            
                            updateCurrentScan(result);
                            
                            if (balanceInfo.balance > 0) {
                                foundCounter++;
                                totalBTC += balanceInfo.balance / 100000000;
                                
                                updateTotalBTC();
                                
                                if (alarmEnabled) {
                                    playAlarm();
                                }
                                
                                showBalanceNotification(result);
                                updateFoundBalances();
                            }
                            
                            refreshPatrolView();
                            success = true;
                            break;
                        } else {
                            retryCount++;
                            console.log(`‰ΩôÈ¢ùÊ£ÄÊü•Â§±Ë¥•ÔºåÁ¨¨${retryCount}Ê¨°ÈáçËØï`);
                        }
                        
                    } catch (error) {
                        console.error('Ê£ÄÊü•‰ΩôÈ¢ùÂ§±Ë¥•:', error);
                        retryCount++;
                    }
                }
                
                if (!success && isScanning) {
                    // ÊúÄÁªàÂ§±Ë¥•ÁöÑÂ§ÑÁêÜ
                    const failedResult = {
                        id: addressData.id,
                        words: addressData.words,
                        address: addressData.address,
                        privateKey: addressData.privateKey,
                        balance: -1,
                        received: 0,
                        txCount: 0,
                        timestamp: new Date().toLocaleTimeString(),
                        date: new Date().toISOString(),
                        status: 'failed'
                    };
                    
                    currentData = failedResult;
                    allResults.unshift(failedResult);
                    updateCurrentScan(failedResult);
                    // Â§±Ë¥•ÁöÑÊÉÖÂÜµ‰∏çËÆ°ÂÖ•checkedCounter
                }
                
                // Êõ¥Êñ∞ÁªüËÆ°
                updateStats();
                
            } catch (error) {
                console.error('ÁîüÊàêÊàñÊ£ÄÊü•ËøáÁ®ã‰∏≠Âá∫Èîô:', error);
            } finally {
                isCheckingBalance = false;
                
                // ÂÆâÊéí‰∏ã‰∏Ä‰∏™Êâ´Êèè
                if (isScanning) {
                    clearTimeout(checkTimer);
                    if (checkInterval > 0) {
                        checkTimer = setTimeout(() => generateAndCheck(), checkInterval);
                    } else {
                        // Â¶ÇÊûúÊòØÊûÅÈÄüÊ®°ÂºèÔºåÁ´ãÂç≥ÂºÄÂßã‰∏ã‰∏Ä‰∏™
                        setTimeout(() => generateAndCheck(), 0);
                    }
                }
            }
        }

        // ==================== ÁªüËÆ°Êõ¥Êñ∞ÂáΩÊï∞ ====================
        function updateStats() {
            const elapsedSeconds = scanStartTime ? Math.floor((Date.now() - scanStartTime) / 1000) : 0;
            
            // ËÆ°ÁÆóÈÄüÂ∫¶ÔºöÊàêÂäüÊ£ÄÊµãÁöÑÂú∞ÂùÄÊï∞ / ËøêË°åÊó∂Èó¥
            const speed = elapsedSeconds > 0 ? (checkedCounter / elapsedSeconds).toFixed(1) : '0.0';
            
            // ËÆ°ÁÆóÊàêÂäüÁéáÔºöÊàêÂäüÊ£ÄÊµãÁöÑÂú∞ÂùÄ / Â∑≤ÁîüÊàêÁöÑÂú∞ÂùÄ
            const validCheckedCounter = Math.min(checkedCounter, scanCounter);
            const successRate = scanCounter > 0 ? 
                Math.min(100, Math.round((validCheckedCounter / scanCounter) * 100)) : 0;
            
            // ËÆ°ÁÆóÈòüÂàóÈïøÂ∫¶ÔºöÂ∑≤ÁîüÊàê‰ΩÜÊú™Ê£ÄÊµãÁöÑÂú∞ÂùÄÔºàÂ∫îËØ•‰∏∫0Êàñ1Ôºâ
            const queueSize = isCheckingBalance ? 1 : 0;
            
            // Êõ¥Êñ∞ÁªüËÆ°Âç°Áâá
            document.getElementById('statGenerated').textContent = scanCounter;
            document.getElementById('statChecked').textContent = validCheckedCounter;
            document.getElementById('statWithBalance').textContent = foundCounter;
            document.getElementById('statTotalBTC').textContent = totalBTC.toFixed(8);
            document.getElementById('statSpeed').textContent = speed;
            document.getElementById('statUptime').textContent = `${elapsedSeconds}s`;
            document.getElementById('statSuccessRate').textContent = `${successRate}%`;
            document.getElementById('statQueueSize').textContent = queueSize;
            
            // Êõ¥Êñ∞API‰ø°ÊÅØÂå∫Âüü
            document.getElementById('apiGenerated').textContent = scanCounter;
            document.getElementById('apiChecked').textContent = validCheckedCounter;
            document.getElementById('apiSuccessRate').textContent = `${successRate}%`;
            document.getElementById('apiRuntime').textContent = `${elapsedSeconds}s`;
            
            // Êõ¥Êñ∞ÈòüÂàóÊòæÁ§∫
            document.getElementById('queueCount').textContent = queueSize;
            
            // Êõ¥Êñ∞ÊÄªBTCÊòæÁ§∫
            document.getElementById('totalBTC').textContent = totalBTC.toFixed(8) + ' BTC';
            
            // Êõ¥Êñ∞ÂΩìÂâçÊâ´ÊèèÁºñÂè∑
            document.getElementById('currentScanNumber').textContent = `#${scanCounter}`;
        }

        // ==================== UIÊõ¥Êñ∞ÂáΩÊï∞ ====================
        function updateCurrentScanBeforeCheck(addressData) {
            document.getElementById('currentMnemonic').textContent = addressData.words;
            document.getElementById('currentAddress').textContent = addressData.address;
            document.getElementById('currentPrivateKey').textContent = addressData.privateKey;
            document.getElementById('currentBalance').textContent = 'Ê£ÄÊü•‰∏≠...';
            document.getElementById('currentBalance').className = 'balance-value balance-checking';
            document.getElementById('currentTime').textContent = new Date().toLocaleTimeString();
            document.getElementById('currentScanNumber').textContent = `#${addressData.id}`;
            document.getElementById('currentStatus').textContent = 'Ê£ÄÊü•‰ΩôÈ¢ù‰∏≠';
            document.getElementById('currentStatus').style.color = '#ff9500';
        }

        function updateCurrentScan(result) {
            document.getElementById('currentMnemonic').textContent = result.words;
            document.getElementById('currentAddress').textContent = result.address;
            document.getElementById('currentPrivateKey').textContent = result.privateKey;
            
            const balanceElement = document.getElementById('currentBalance');
            
            if (result.status === 'failed') {
                balanceElement.textContent = 'Êü•ËØ¢Â§±Ë¥•';
                balanceElement.className = 'balance-value balance-failed';
                document.getElementById('currentStatus').textContent = 'Êü•ËØ¢Â§±Ë¥•';
                document.getElementById('currentStatus').style.color = '#ff3b30';
            } else if (result.balance > 0) {
                const balanceInBTC = (result.balance / 100000000).toFixed(8);
                balanceElement.textContent = `${balanceInBTC} BTC`;
                balanceElement.className = 'balance-value balance-positive';
                document.getElementById('currentStatus').textContent = 'ÂèëÁé∞‰ΩôÈ¢ùÔºÅ';
                document.getElementById('currentStatus').style.color = '#34c759';
            } else {
                balanceElement.textContent = '0 BTC';
                balanceElement.className = 'balance-value balance-zero';
                document.getElementById('currentStatus').textContent = 'Èõ∂‰ΩôÈ¢ù';
                document.getElementById('currentStatus').style.color = '#888';
            }
            
            document.getElementById('currentTime').textContent = result.timestamp;
        }

        function updateApiStatus(text, status) {
            const apiStatusEl = document.getElementById('apiStatus');
            const statusDot = document.getElementById('statusDot');
            const statusText = document.getElementById('statusText');
            
            statusText.textContent = `API: ${text}`;
            statusDot.className = `status-dot ${status}`;
            apiStatusEl.className = `api-status ${status}`;
        }

        function updateApiDisplay() {
            const currentApiEl = document.getElementById('currentApi');
            const providerIndex = currentApiIndex % currentApiCount;
            const provider = apiProviders[providerIndex];
            if (provider) {
                const successRate = provider.attempts > 0 ? 
                    Math.round((provider.success / provider.attempts) * 100) : 100;
                currentApiEl.textContent = `${provider.name} (${successRate}%)`;
                currentApiEl.className = 'api-provider active';
                
                // Êõ¥Êñ∞Á¥¢ÂºïÊòæÁ§∫
                document.getElementById('currentApiIndexDisplay').textContent = currentApiIndex;
            }
        }

        function updateQueueInfo() {
            const queueSize = isCheckingBalance ? 1 : 0;
            document.getElementById('queueCount').textContent = queueSize;
        }

        function updateReconnectButton(connecting) {
            const reconnectBtn = document.getElementById('reconnectBtn');
            if (connecting) {
                reconnectBtn.disabled = true;
                reconnectBtn.innerHTML = '<span class="loading-spinner"></span> ÈáçËøû‰∏≠...';
            } else {
                reconnectBtn.disabled = false;
                reconnectBtn.innerHTML = '<span>‚Üª</span> ÈáçËøûAPI';
            }
        }

        function updateAPISuccessRate() {
            const successRate = apiTotalAttempts > 0 ? 
                Math.round((apiTotalSuccess / apiTotalAttempts) * 100) : 100;
            document.getElementById('apiSuccessRate').textContent = `${successRate}%`;
        }

        function updateTotalBTC() {
            document.getElementById('totalBTC').textContent = totalBTC.toFixed(8) + ' BTC';
        }

        // ==================== Â∑°Êü•Èù¢ÊùøÂäüËÉΩ ====================
        function refreshPatrolView() {
            filteredResults = [...allResults];
            applyFiltersAndSort();
            renderPatrolTable();
            updatePagination();
        }

        function clearPatrolView() {
            document.getElementById('patrolTableBody').innerHTML = `
                <tr>
                    <td colspan="5" style="text-align: center; padding: 60px; color: #888; font-size: 1.1rem;">
                        üöÄ ÂáÜÂ§áÂ∞±Áª™ÔºåÁÇπÂáª"ÂºÄÂßãÊâ´Êèè"ÊåâÈíÆÂêØÂä®BTCÂú∞ÂùÄÊâ´Êèè
                    </td>
                </tr>
            `;
            document.getElementById('pagination').innerHTML = '';
        }

        function applyFiltersAndSort() {
            const searchInput = document.getElementById('searchInput').value.toLowerCase();
            const filterBalance = document.getElementById('filterBalance').value;
            const sortBy = document.getElementById('sortBy').value;
            
            if (searchInput) {
                filteredResults = filteredResults.filter(item => 
                    item.words.toLowerCase().includes(searchInput) ||
                    item.address.toLowerCase().includes(searchInput) ||
                    item.privateKey.toLowerCase().includes(searchInput)
                );
            }
            
            if (filterBalance === 'positive') {
                filteredResults = filteredResults.filter(item => item.balance > 0);
            } else if (filterBalance === 'zero') {
                filteredResults = filteredResults.filter(item => item.balance === 0);
            } else if (filterBalance === 'failed') {
                filteredResults = filteredResults.filter(item => item.status === 'failed');
            }
            
            if (sortBy === 'time') {
                filteredResults.sort((a, b) => new Date(b.date) - new Date(a.date));
            } else if (sortBy === 'balance') {
                filteredResults.sort((a, b) => b.balance - a.balance);
            } else if (sortBy === 'address') {
                filteredResults.sort((a, b) => a.address.localeCompare(b.address));
            }
        }

        function renderPatrolTable() {
            const tableBody = document.getElementById('patrolTableBody');
            
            if (filteredResults.length === 0) {
                tableBody.innerHTML = `
                    <tr>
                        <td colspan="5" style="text-align: center; padding: 60px; color: #888; font-size: 1.1rem;">
                            üîç Ê≤°ÊúâÊâæÂà∞ÂåπÈÖçÁöÑÁªìÊûú
                        </td>
                    </tr>
                `;
                return;
            }
            
            const startIndex = (currentPage - 1) * resultsPerPage;
            const endIndex = Math.min(startIndex + resultsPerPage, filteredResults.length);
            const pageResults = filteredResults.slice(startIndex, endIndex);
            
            let html = '';
            pageResults.forEach((item, index) => {
                const displayIndex = startIndex + index + 1;
                const balanceInBTC = item.balance > 0 ? (item.balance / 100000000).toFixed(8) : '0';
                
                let balanceClass = 'balance-cell zero';
                let balanceText = '0 BTC';
                let rowClass = '';
                
                if (item.status === 'failed') {
                    balanceClass = 'balance-cell failed';
                    balanceText = 'Êü•ËØ¢Â§±Ë¥•';
                    rowClass = 'failed';
                } else if (item.balance > 0) {
                    balanceClass = 'balance-cell positive';
                    balanceText = `${balanceInBTC} BTC`;
                    rowClass = 'has-balance';
                }
                
                html += `
                    <tr class="${rowClass}" data-id="${item.id}">
                        <td>${item.id}</td>
                        <td class="mnemonic-cell" title="${item.words}">${item.words}</td>
                        <td class="address-cell" title="${item.address}">${item.address}</td>
                        <td class="${balanceClass}">${balanceText}</td>
                        <td>
                            <button class="table-btn" onclick="copyItemData(${item.id})">Â§çÂà∂</button>
                        </td>
                    </tr>
                `;
            });
            
            tableBody.innerHTML = html;
        }

        function updatePagination() {
            const totalPages = Math.ceil(filteredResults.length / resultsPerPage);
            const paginationEl = document.getElementById('pagination');
            
            if (totalPages <= 1) {
                paginationEl.innerHTML = '';
                return;
            }
            
            let html = '';
            
            if (currentPage > 1) {
                html += `<button class="page-btn" onclick="goToPage(${currentPage - 1})">‰∏ä‰∏ÄÈ°µ</button>`;
            }
            
            const maxVisiblePages = 5;
            let startPage = Math.max(1, currentPage - Math.floor(maxVisiblePages / 2));
            let endPage = Math.min(totalPages, startPage + maxVisiblePages - 1);
            
            if (endPage - startPage + 1 < maxVisiblePages) {
                startPage = Math.max(1, endPage - maxVisiblePages + 1);
            }
            
            for (let i = startPage; i <= endPage; i++) {
                if (i === currentPage) {
                    html += `<button class="page-btn active">${i}</button>`;
                } else {
                    html += `<button class="page-btn" onclick="goToPage(${i})">${i}</button>`;
                }
            }
            
            if (currentPage < totalPages) {
                html += `<button class="page-btn" onclick="goToPage(${currentPage + 1})">‰∏ã‰∏ÄÈ°µ</button>`;
            }
            
            paginationEl.innerHTML = html;
        }

        function goToPage(page) {
            currentPage = page;
            renderPatrolTable();
            updatePagination();
        }

        function searchData() {
            currentPage = 1;
            refreshPatrolView();
        }

        function clearSearch() {
            document.getElementById('searchInput').value = '';
            document.getElementById('filterBalance').value = 'all';
            document.getElementById('sortBy').value = 'time';
            currentPage = 1;
            refreshPatrolView();
        }

        // ==================== ÂèëÁé∞‰ΩôÈ¢ùÈù¢Êùø ====================
        function updateFoundBalances() {
            const foundBalancesList = document.getElementById('foundBalancesList');
            const balancesWithBTC = allResults.filter(item => item.balance > 0);
            
            if (balancesWithBTC.length === 0) {
                foundBalancesList.innerHTML = `
                    <div style="text-align: center; color: #888; padding: 40px; font-size: 1.1rem;">
                        üí° Â∞öÊú™ÂèëÁé∞‰ªª‰ΩïBTC‰ΩôÈ¢ùÔºåÊâ´ÊèèÁªßÁª≠ËøõË°å‰∏≠...
                    </div>
                `;
                return;
            }
            
            const recentBalances = balancesWithBTC.slice(0, 5);
            
            let html = '';
            recentBalances.forEach((item, index) => {
                const balanceInBTC = (item.balance / 100000000).toFixed(8);
                
                html += `
                    <div class="balance-item" data-id="${item.id}">
                        <div class="balance-header">
                            <span>üí∞</span> ÂèëÁé∞ #${item.id} - ${balanceInBTC} BTC
                        </div>
                        <div class="balance-details">
                            <div class="balance-detail-row">
                                <div class="balance-detail-label">Êó∂Èó¥:</div>
                                <div class="balance-detail-value">${item.timestamp}</div>
                            </div>
                            <div class="balance-detail-row">
                                <div class="balance-detail-label">Âú∞ÂùÄ:</div>
                                <div class="balance-detail-value" style="color: #64d2ff;">${item.address}</div>
                            </div>
                            <div class="balance-detail-row">
                                <div class="balance-detail-label">ÁßÅÈí•:</div>
                                <div class="balance-detail-value" style="color: #d4a5ff; font-family: monospace; font-size: 0.85rem;">${item.privateKey}</div>
                            </div>
                            <div class="balance-detail-row">
                                <div class="balance-detail-label">Âä©ËÆ∞ËØç:</div>
                                <div class="balance-detail-value" style="color: #007aff;">${item.words}</div>
                            </div>
                        </div>
                        <div class="balance-amount">
                            ${balanceInBTC} BTC
                        </div>
                        <div class="balance-actions">
                            <button class="action-btn" onclick="copyItemData(${item.id})" style="flex: 1;">
                                <span>üìã</span> Â§çÂà∂ÂÖ®ÈÉ®‰ø°ÊÅØ
                            </button>
                        </div>
                    </div>
                `;
            });
            
            foundBalancesList.innerHTML = html;
        }

        // ==================== ÈÄöÁü•Á≥ªÁªü ====================
        function showBalanceNotification(result) {
            const notification = document.getElementById('notification');
            const notificationContent = document.getElementById('notificationContent');
            
            const balanceInBTC = (result.balance / 100000000).toFixed(8);
            
            notificationContent.innerHTML = `
                <div class="notification-balance">${balanceInBTC} BTC</div>
                <div style="margin-bottom: 15px;">
                    <div><strong>Âú∞ÂùÄ:</strong> <span style="font-family: monospace;">${result.address}</span></div>
                    <div><strong>ÁßÅÈí•:</strong> <span style="font-family: monospace; font-size: 0.9rem;">${result.privateKey.substring(0, 16)}...</span></div>
                    <div><strong>Êó∂Èó¥:</strong> <span>${result.timestamp}</span></div>
                    <div><strong>ID:</strong> <span>#${result.id}</span></div>
                </div>
            `;
            
            document.getElementById('notificationBalance').textContent = `${balanceInBTC} BTC`;
            document.getElementById('notificationAddress').textContent = result.address;
            document.getElementById('notificationTime').textContent = result.timestamp;
            document.getElementById('notificationId').textContent = `#${result.id}`;
            
            notification.style.display = 'block';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 5000);
        }

        function copyNotificationData() {
            copyCurrentAll();
        }

        function viewNotificationAddress() {
            if (currentData) {
                window.open(`https://blockchain.info/address/${currentData.address}`, '_blank');
            }
        }

        // ==================== Â§çÂà∂ÂäüËÉΩ ====================
        function copyCurrentMnemonic() {
            if (currentData) {
                navigator.clipboard.writeText(currentData.words)
                    .then(() => showNotification('Â§çÂà∂ÊàêÂäü', 'Âä©ËÆ∞ËØçÂ∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø', 'success'))
                    .catch(err => showNotification('Â§çÂà∂Â§±Ë¥•', 'ËØ∑ÊâãÂä®Â§çÂà∂Âä©ËÆ∞ËØç', 'error'));
            } else {
                showNotification('Êó†Êï∞ÊçÆ', 'Ê≤°ÊúâÂΩìÂâçÊï∞ÊçÆÂèØÂ§çÂà∂', 'warning');
            }
        }

        function copyCurrentPrivateKey() {
            if (currentData) {
                navigator.clipboard.writeText(currentData.privateKey)
                    .then(() => showNotification('Â§çÂà∂ÊàêÂäü', 'ÁßÅÈí•Â∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø', 'success'))
                    .catch(err => showNotification('Â§çÂà∂Â§±Ë¥•', 'ËØ∑ÊâãÂä®Â§çÂà∂ÁßÅÈí•', 'error'));
            } else {
                showNotification('Êó†Êï∞ÊçÆ', 'Ê≤°ÊúâÂΩìÂâçÊï∞ÊçÆÂèØÂ§çÂà∂', 'warning');
            }
        }

        function copyCurrentAll() {
            if (currentData) {
                const data = `
BTCÂú∞ÂùÄ‰ø°ÊÅØ:
Âä©ËÆ∞ËØç: ${currentData.words}
Âú∞ÂùÄ: ${currentData.address}
ÁßÅÈí•: ${currentData.privateKey}
‰ΩôÈ¢ù: ${currentData.balance > 0 ? (currentData.balance / 100000000).toFixed(8) + ' BTC' : '0 BTC'}
Êó∂Èó¥: ${currentData.timestamp}
Áä∂ÊÄÅ: ${currentData.status === 'positive' ? 'Êúâ‰ΩôÈ¢ù' : currentData.status === 'failed' ? 'Êü•ËØ¢Â§±Ë¥•' : 'Èõ∂‰ΩôÈ¢ù'}
                `.trim();
                
                navigator.clipboard.writeText(data)
                    .then(() => showNotification('Â§çÂà∂ÊàêÂäü', 'ÂÖ®ÈÉ®‰ø°ÊÅØÂ∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø', 'success'))
                    .catch(err => showNotification('Â§çÂà∂Â§±Ë¥•', 'ËØ∑ÊâãÂä®Â§çÂà∂‰ø°ÊÅØ', 'error'));
            } else {
                showNotification('Êó†Êï∞ÊçÆ', 'Ê≤°ÊúâÂΩìÂâçÊï∞ÊçÆÂèØÂ§çÂà∂', 'warning');
            }
        }

        function viewCurrentAddress() {
            if (currentData) {
                window.open(`https://blockchain.info/address/${currentData.address}`, '_blank');
            } else {
                showNotification('Êó†Âú∞ÂùÄ', 'Ê≤°ÊúâÂΩìÂâçÂú∞ÂùÄÂèØÊü•Áúã', 'warning');
            }
        }

        function copyItemData(itemId) {
            const item = allResults.find(r => r.id === itemId);
            if (item) {
                const data = `
BTCÂú∞ÂùÄ‰ø°ÊÅØ (ID: ${item.id}):
Âä©ËÆ∞ËØç: ${item.words}
Âú∞ÂùÄ: ${item.address}
ÁßÅÈí•: ${item.privateKey}
‰ΩôÈ¢ù: ${item.balance > 0 ? (item.balance / 100000000).toFixed(8) + ' BTC' : '0 BTC'}
Êó∂Èó¥: ${item.timestamp}
Áä∂ÊÄÅ: ${item.status === 'positive' ? 'Êúâ‰ΩôÈ¢ù' : item.status === 'failed' ? 'Ê£ÄÊµãÂ§±Ë¥•' : 'Èõ∂‰ΩôÈ¢ù'}
                `.trim();
                
                navigator.clipboard.writeText(data)
                    .then(() => showNotification('Â§çÂà∂ÊàêÂäü', 'Âú∞ÂùÄ‰ø°ÊÅØÂ∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø', 'success'))
                    .catch(err => showNotification('Â§çÂà∂Â§±Ë¥•', 'ËØ∑ÊâãÂä®Â§çÂà∂‰ø°ÊÅØ', 'error'));
            } else {
                showNotification('Êó†Êï∞ÊçÆ', 'Êâæ‰∏çÂà∞Ë¶ÅÂ§çÂà∂ÁöÑÊï∞ÊçÆ', 'warning');
            }
        }

        function showNotification(title, message, type = 'info') {
            const notification = document.getElementById('notification');
            const notificationContent = document.getElementById('notificationContent');
            
            notificationContent.innerHTML = `
                <div style="font-size: 20px; font-weight: 700; text-align: center; margin: 15px 0;">
                    ${title}
                </div>
                <div style="font-size: 14px; text-align: center; margin-bottom: 20px; line-height: 1.5;">
                    ${message}
                </div>
            `;
            
            if (type === 'success') {
                notification.style.background = 'linear-gradient(135deg, rgba(52, 199, 89, 0.98) 0%, rgba(40, 167, 69, 0.98) 100%)';
            } else if (type === 'error') {
                notification.style.background = 'linear-gradient(135deg, rgba(255, 59, 48, 0.98) 0%, rgba(220, 53, 69, 0.98) 100%)';
            } else if (type === 'warning') {
                notification.style.background = 'linear-gradient(135deg, rgba(255, 149, 0, 0.98) 0%, rgba(255, 203, 98, 0.98) 100%)';
            } else {
                notification.style.background = 'linear-gradient(135deg, rgba(0, 122, 255, 0.98) 0%, rgba(0, 212, 255, 0.98) 100%)';
            }
            
            notification.style.display = 'block';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }

        // ==================== ÂÖ∂‰ªñÂäüËÉΩ ====================
        function initAlarmSound() {
            alarmSound = document.getElementById('alarmSound');
            document.getElementById('alarmToggle').classList.add('active');
            alarmEnabled = true;
        }

        function toggleAlarm() {
            alarmEnabled = !alarmEnabled;
            const toggle = document.getElementById('alarmToggle');
            if (alarmEnabled) {
                toggle.classList.add('active');
            } else {
                toggle.classList.remove('active');
            }
        }

        function testAlarm() {
            playAlarm();
            showNotification('Ë≠¶Êä•ÊµãËØï', 'üîî Ë≠¶Êä•ÊµãËØïÊàêÂäüÔºÅ', 'info');
        }

        function playAlarm() {
            if (alarmEnabled && alarmSound) {
                try {
                    alarmSound.currentTime = 0;
                    alarmSound.play().catch(e => {
                        console.log('Ë≠¶Êä•Êí≠ÊîæÂ§±Ë¥•:', e);
                    });
                } catch (e) {
                    console.log('Ë≠¶Êä•Êí≠ÊîæÂºÇÂ∏∏:', e);
                }
            }
        }

        function showStats() {
            const elapsedSeconds = scanStartTime ? Math.floor((Date.now() - scanStartTime) / 1000) : 0;
            const hitRate = checkedCounter > 0 ? ((foundCounter / checkedCounter) * 100).toFixed(4) : 0;
            
            const stats = `
BTCÊâ´ÊèèÁªüËÆ°‰ø°ÊÅØ:

üìä Êâ´ÊèèÁªüËÆ°:
‚Ä¢ Â∑≤ÁîüÊàêÂú∞ÂùÄ: ${scanCounter}
‚Ä¢ Â∑≤Ê£ÄÊµãÂú∞ÂùÄ: ${checkedCounter}
‚Ä¢ Êúâ‰ΩôÈ¢ùÂú∞ÂùÄ: ${foundCounter}
‚Ä¢ ÊÄªBTC‰ΩôÈ¢ù: ${totalBTC.toFixed(8)} BTC
‚Ä¢ ÂëΩ‰∏≠Áéá: ${hitRate}%

‚ö° ÊÄßËÉΩÁªüËÆ°:
‚Ä¢ ÂΩìÂâçÈÄüÂ∫¶: ${(1000 / checkInterval).toFixed(1)} ‰∏™/Áßí
‚Ä¢ ËøêË°åÊó∂Èó¥: ${elapsedSeconds} Áßí
‚Ä¢ Êâ´ÊèèÁä∂ÊÄÅ: ${isScanning ? (scanCounter > 0 ? 'ËøêË°å‰∏≠' : 'Â∑≤ÊöÇÂÅú') : 'Â∑≤ÂÅúÊ≠¢'}

üìà Êï∞ÊçÆÁªüËÆ°:
‚Ä¢ ÊÄªËÆ∞ÂΩïÊï∞: ${allResults.length}
‚Ä¢ Êúâ‰ΩôÈ¢ùËÆ∞ÂΩï: ${foundCounter}
‚Ä¢ Èõ∂‰ΩôÈ¢ùËÆ∞ÂΩï: ${allResults.filter(r => r.balance === 0).length}
‚Ä¢ Êü•ËØ¢Â§±Ë¥•: ${allResults.filter(r => r.status === 'failed').length}

üîå APIÁªüËÆ°:
‚Ä¢ ‰ΩøÁî®APIÊï∞Èáè: ${currentApiCount}
‚Ä¢ ÂΩìÂâçAPIÁ¥¢Âºï: ${currentApiIndex}
‚Ä¢ Â∑≤Ê£ÄÊü•Âú∞ÂùÄ: ${currentCheckCount}/${checksPerApi}
            `.trim();
            
            alert(stats);
        }

        function exportData() {
            if (allResults.length === 0) {
                showNotification('Êó†Êï∞ÊçÆ', 'Ê≤°ÊúâÊï∞ÊçÆÂèØÂØºÂá∫', 'warning');
                return;
            }
            
            let csv = 'ID,Âä©ËÆ∞ËØç,Âú∞ÂùÄ,ÁßÅÈí•,‰ΩôÈ¢ù(BTC),‰∫§ÊòìÊï∞,Êó∂Èó¥,Áä∂ÊÄÅ\n';
            
            allResults.forEach(item => {
                const balanceInBTC = item.balance > 0 ? (item.balance / 100000000).toFixed(8) : '0';
                const txCount = item.txCount || 0;
                const timestamp = item.timestamp || new Date().toLocaleString();
                const status = item.status === 'positive' ? 'Êúâ‰ΩôÈ¢ù' : item.status === 'failed' ? 'Êü•ËØ¢Â§±Ë¥•' : 'Èõ∂‰ΩôÈ¢ù';
                
                const escapeCSV = (str) => {
                    if (str === null || str === undefined) return '';
                    str = String(str);
                    if (str.includes(',') || str.includes('"') || str.includes('\n')) {
                        return '"' + str.replace(/"/g, '""') + '"';
                    }
                    return str;
                };
                
                csv += `${item.id},${escapeCSV(item.words)},${escapeCSV(item.address)},${escapeCSV(item.privateKey)},${balanceInBTC},${txCount},${escapeCSV(timestamp)},${status}\n`;
            });
            
            const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            
            link.setAttribute('href', url);
            link.setAttribute('download', `BTCÊâ´ÊèèÂô®ÁªìÊûú_${new Date().toISOString().slice(0,10)}.csv`);
            link.style.visibility = 'hidden';
            
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            showNotification('ÂØºÂá∫ÊàêÂäü', `Â∑≤ÂØºÂá∫ ${allResults.length} Êù°ËÆ∞ÂΩïÂà∞CSVÊñá‰ª∂`, 'success');
        }

        // ==================== ÂàùÂßãÂåñ ====================
        async function init() {
            console.log("ÂºÄÂßãÂàùÂßãÂåñ...");
            
            initAlarmSound();
            setSpeed('1');
            setApiCount(1);
            updateTotalBTC();
            updateQueueInfo();
            
            // ÂàùÂßãÂåñÊåâÈíÆÁä∂ÊÄÅ
            document.getElementById('startButton').style.display = 'flex';
            document.getElementById('pauseButton').style.display = 'none';
            document.getElementById('continueButton').style.display = 'none';
            
            await testAllAPIs();
            
            if (apiConnected) {
                console.log("ÂàùÂßãÂåñÂÆåÊàêÔºåAPIËøûÊé•ÊàêÂäü");
                showNotification('BTCÁ¢∞Êíû2.0Â∑≤Â∞±Áª™', 'ÁÇπÂáª"ÂºÄÂßãÊâ´Êèè"ÊåâÈíÆÂêØÂä®BTCÂú∞ÂùÄÁ¢∞Êíû', 'info');
            } else {
                console.log("ÂàùÂßãÂåñÂÆåÊàêÔºåÁ≠âÂæÖÊâãÂä®ÈáçËøû");
                showNotification('APIËøûÊé•Â§±Ë¥•', 'ËØ∑ÁÇπÂáª"Âº∫Âà∂ÈáçËøû"ÊåâÈíÆÈáçÊñ∞ËøûÊé•API', 'error');
            }
        }

        // È°µÈù¢Âä†ËΩΩÊó∂ÂàùÂßãÂåñ
        window.onload = function() {
            console.log("È°µÈù¢Âä†ËΩΩÂÆåÊàêÔºåÂºÄÂßãÂàùÂßãÂåñ");
            setTimeout(init, 100);
        };

        // Èò≤Ê≠¢È°µÈù¢Âç∏ËΩΩÊó∂ËøòÊúâÊâ´ÊèèÂú®ËøêË°å
        window.addEventListener('beforeunload', function(e) {
            if (isScanning) {
                e.preventDefault();
                e.returnValue = 'BTCÊâ´ÊèèÊ≠£Âú®ËøõË°å‰∏≠ÔºåÁ°ÆÂÆöË¶ÅÁ¶ªÂºÄÂêóÔºü';
                return 'BTCÊâ´ÊèèÊ≠£Âú®ËøõË°å‰∏≠ÔºåÁ°ÆÂÆöË¶ÅÁ¶ªÂºÄÂêóÔºü';
            }
        });
    </script>
</body>
</html>
